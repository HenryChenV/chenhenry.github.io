<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Henry's SpiritLine</title><link href="http://henrychenv.github.io/" rel="alternate"></link><link href="http://henrychenv.github.io/feeds/all.atom.xml" rel="self"></link><id>http://henrychenv.github.io/</id><updated>2016-03-24T22:15:00+08:00</updated><entry><title>ååºè¾“å…¥æŒ‡å®šè¡Œæ•°çš„å­—ç¬¦ä¸²</title><link href="http://henrychenv.github.io/just-for-fun-c.html" rel="alternate"></link><updated>2016-03-24T22:15:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-03-24:just-for-fun-c.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;å¥½ä¹…æ²¡å†™cè¯­è¨€äº†ï¼Œä»Šå¤©å¸®ä¸€åŒå­¦å†™ä¸ªä¾‹å­&lt;br /&gt;
è¦æ±‚å¦‚ä¸‹  &lt;/p&gt;
&lt;p&gt;å…ˆè¾“å…¥è¡Œæ•°ï¼Œç„¶åä¾æ¬¡è¾“å…¥å­—ç¬¦ä¸²ï¼Œ&lt;br /&gt;
è¾“å…¥å®Œæˆåï¼Œååºè¾“å‡ºæ¯è¡Œçš„å­—ç¬¦ä¸²  &lt;/p&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="cp"&gt;#define MAX_CHARS_PER_LINE 30&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;typedef&lt;/span&gt; &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="n"&gt;str_node&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;pstr_node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;print_reversed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;len&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;strlen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;len&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%c&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;pstr_node&lt;/span&gt; &lt;span class="nf"&gt;create_str_node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;len&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;pstr_node&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pstr_node&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;malloc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str_node&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;perror&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;malloc str node error!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;malloc&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;len&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;perror&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;malloc node data error!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;strcpy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;len&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sc"&gt;&amp;#39;\0&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;free_all&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pstr_node&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;pstr_node&lt;/span&gt; &lt;span class="n"&gt;cur_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;pstr_node&lt;/span&gt; &lt;span class="n"&gt;tmp_node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cur_node&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;tmp_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cur_node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;cur_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tmp_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;free&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tmp_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;free&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tmp_node&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="n"&gt;input_buffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;MAX_CHARS_PER_LINE&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;pstr_node&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;create_str_node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input_buffer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;how many lines: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;scanf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;len&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;pstr_node&lt;/span&gt; &lt;span class="n"&gt;cur_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;line %d: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;scanf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%s&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;input_buffer&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;len&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;strlen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input_buffer&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;len&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;MAX_CHARS_PER_LINE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;max chars per line is %d&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;MAX_CHARS_PER_LINE&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;pstr_node&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;create_str_node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input_buffer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;strlen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input_buffer&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new_node&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;cur_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;cur_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;       &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;cur_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cur_node&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;print_reversed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cur_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;cur_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cur_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;free_all&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;free all.&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;some space is not free.&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;how many lines: 2&lt;/span&gt;
&lt;span class="code-line"&gt;line 1: hello&lt;/span&gt;
&lt;span class="code-line"&gt;line 2: world&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;olleh&lt;/span&gt;
&lt;span class="code-line"&gt;dlrow&lt;/span&gt;
&lt;span class="code-line"&gt;free all.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¥½ä¹…æ²¡å†™cè¯­è¨€äº†ï¼Œå†™å†™å¼€å¿ƒä¸‹ã€‚&lt;/p&gt;</summary><category term="fun"></category><category term="c"></category></entry><entry><title>å®ç° Python å•ä¾‹æ¨¡å¼çš„å‡ ç§æ–¹å¼</title><link href="http://henrychenv.github.io/python-design-pattern-singleton.html" rel="alternate"></link><updated>2016-03-13T11:40:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-03-13:python-design-pattern-singleton.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;åˆ©ç”¨æ¨¡å—åªä¼šå¯¼å…¥ä¸€æ¬¡çš„ç‰¹æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#__metaclass____call__"&gt;åˆ©ç”¨__metaclass__å’Œ__call__&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#metaclass-new"&gt;åˆ©ç”¨ metaclass å’Œ new&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h3 id="_1"&gt;åˆ©ç”¨æ¨¡å—åªä¼šå¯¼å…¥ä¸€æ¬¡çš„ç‰¹æ€§&lt;/h3&gt;
&lt;p&gt;åœ¨pythonä¸­ï¼Œå¤šæ¬¡å¯¼å…¥æŸä¸ªæ¨¡å—ï¼Œå…¶å®åªä¼šåœ¨ç¬¬ä¸€æ¬¡äº§ç”Ÿå¯¼å…¥çš„åŠ¨ä½œ
World.py:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# coding=utf-8&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="sd"&gt;åˆ©ç”¨pythonæ¨¡å—åªä¼šå¯¼å…¥ä¸€æ¬¡çš„ç‰¹æ€§å†™å•ä¾‹æ¨¡å¼&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;World&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;population&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;the world is running.&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;_world&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;World&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;population&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_world&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;population&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_world&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸Šé¢çš„_world, population, runåªä¼šåœ¨ç¬¬ä¸€æ¬¡å¯¼å…¥æ¨¡å—çš„æ—¶å€™å¯¼å…¥, æ‰€ä»¥æ˜¯å•ä¾‹&lt;/p&gt;
&lt;h3 id="__metaclass____call__"&gt;åˆ©ç”¨__metaclass__å’Œ__call__&lt;/h3&gt;
&lt;p&gt;metaclass æ˜¯äº§ç”Ÿç±»çš„çš„ç±»ï¼Œå¯ä»¥åœ¨æŸä¸ªç±»ä¸­è®¾ç½®__metaclass__ğŸ”ç”¨å“ªä¸ªç±»äº§ç”Ÿè¿™ä¸ªç±»,
å¯¹äºmetaclassä¼šå…ˆè°ƒç”¨__new__äº§ç”Ÿç±»ï¼Œç„¶åè°ƒç”¨metaclassçš„__new__åˆå§‹åŒ–è¿™ä¸ªç±»(æ³¨æ„ï¼Œåˆå§‹åŒ–å‡ºæ¥çš„æ˜¯ç±»ï¼Œä¸æ˜¯å®ä¾‹),metaclassä¸­å®šä¹‰çš„æ–¹æ³•éƒ½è¯•ç±»æ–¹æ³•ï¼Œåªèƒ½é€šè¿‡ç±»åè°ƒç”¨(å’Œç”¨@classmethodç”Ÿæˆçš„ç±»æ–¹æ³•ä¸åŒï¼Œæ— æ³•ç”¨å®ä¾‹è°ƒç”¨)ã€‚
åœ¨metaclassä¸­å®šä¹‰__call__æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨ClassName()æ—¶è¢«è°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ºç±»æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•ä¿è¯å•ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;mysingleton.py&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SingletonMeta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bases&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;attrs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SingletonMeta&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bases&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;attrs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;create new instance.&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SingletonMeta&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;instance was already existed.&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;MySingleton&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;__metaclass__&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SingletonMeta&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="sd"&gt;        __init__ åªä¼šæ‰§è¡Œä¸€æ¬¡&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="sd"&gt;        &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;init mc&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;-------------------------&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;ms1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MySingleton&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;ms2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MySingleton&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;ms1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ms1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;ms2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ms2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç»“æœ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;$ python mysingleton.py &lt;/span&gt;
&lt;span class="code-line"&gt;-------------------------&lt;/span&gt;
&lt;span class="code-line"&gt;None&lt;/span&gt;
&lt;span class="code-line"&gt;create new instance.&lt;/span&gt;
&lt;span class="code-line"&gt;init mc&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;__main__.MySingleton object at 0x1052b9490&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;instance was already existed.&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;__main__.MySingleton object at 0x1052b9490&amp;gt; 4381709456&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;__main__.MySingleton object at 0x1052b9490&amp;gt; 4381709456&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="metaclass-new"&gt;åˆ©ç”¨ &lt;strong&gt;metaclass&lt;/strong&gt; å’Œ &lt;strong&gt;new&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ç±»ä¼¼äºåˆ©ç”¨__call__ï¼Œåªæ˜¯æ²¡ä¸Šé¢é‚£ä¹ˆç¹ç
MySingleton2.py&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SingletonMeta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__new__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SingletonMeta&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__new__&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="nb"&gt;hasattr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;_instance&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SingletonMeta&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__new__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;                                                              &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;init&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;SingletonMeta&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Test&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SingletonMeta&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;__metaclass__&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SingletonMeta&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;init test&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Test&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;------------------------------------&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;t1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Test&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;t2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Test&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;t2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç»“æœ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;SingletonMeta&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;class &lt;span class="s1"&gt;&amp;#39;__main__.SingletonMeta&amp;#39;&lt;/span&gt;&amp;gt; &amp;lt;class &lt;span class="s1"&gt;&amp;#39;__main__.SingletonMeta&amp;#39;&lt;/span&gt;&amp;gt; __new__&lt;/span&gt;
&lt;span class="code-line"&gt;init &amp;lt;class &lt;span class="s1"&gt;&amp;#39;__main__.Test&amp;#39;&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Test&lt;/span&gt;
&lt;span class="code-line"&gt;------------------------------------&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;class &lt;span class="s1"&gt;&amp;#39;__main__.Test&amp;#39;&lt;/span&gt;&amp;gt; &amp;lt;class &lt;span class="s1"&gt;&amp;#39;__main__.SingletonMeta&amp;#39;&lt;/span&gt;&amp;gt; __new__&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;class &lt;span class="s1"&gt;&amp;#39;__main__.Test&amp;#39;&lt;/span&gt;&amp;gt; &amp;lt;class &lt;span class="s1"&gt;&amp;#39;__main__.SingletonMeta&amp;#39;&lt;/span&gt;&amp;gt; __new__&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;class &lt;span class="s1"&gt;&amp;#39;__main__.Test&amp;#39;&lt;/span&gt;&amp;gt; 140689093520960&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;class &lt;span class="s1"&gt;&amp;#39;__main__.Test&amp;#39;&lt;/span&gt;&amp;gt; 140689093520960&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="python"></category><category term="design-pattern"></category></entry><entry><title>[TED] Why you will fail to have a great career</title><link href="http://henrychenv.github.io/why-you-will-fail-to-have-a-great-career.html" rel="alternate"></link><updated>2016-02-21T20:36:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-02-21:why-you-will-fail-to-have-a-great-career.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;I want to discuss with you this afternoon why you&amp;rsquo;re going to fail to have a
great career. (Laughter)
ä»Šå¤©ä¸‹åˆæˆ‘æƒ³å’Œä½ ä»¬è®¨è®ºä¸€ä¸‹ï¼Œä½ ä¸ºä»€ä¹ˆä¸ä¼šæˆå°±ä¼Ÿä¸šã€‚ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m an economist. I do dismal. End of the day, it&amp;rsquo;s ready for dismal remarks. I
only want to talk to those of you who want a great career. I know some of you
have already decided you want a good career. You&amp;rsquo;re going to fail,
too-(Laughter)-because-Goodness, you&amp;rsquo;re all cheery about failing. (Laughter)
Canadian group, undoubtedly. (Laughter) Those trying to have good careers are
going to fail, because, really, good jobs are now disappearing. There are great
jobs and great careers, and then there are the high-workload, high-stress,
bloodsucking, soul-destroying kinds of jobs, and practically nothing in
between.
æˆ‘æ˜¯ä¸ªç»æµå­¦å®¶ã€‚æˆ‘è®©äººå¿ƒæƒ…ä½è½ã€‚ä¸€å¤©è¿‡å®Œäº†ï¼Œå‡†å¤‡å¥½å¬å¬è®©äººå¿ƒæƒ…ä½è½çš„è¯„è®ºã€‚æˆ‘åªæƒ³å’Œä½ ä»¬æƒ³è¦æˆå°±ä¼Ÿä¸šçš„é‚£äº›äººè°ˆã€‚
æˆ‘çŸ¥é“ä½ ä»¬æœ‰äº›äººå·²ç»å†³å®šäº†ï¼Œä½ ä»¬æƒ³è¦ä¸€ä¸ªæˆåŠŸçš„äº‹ä¸šã€‚ä½ ä»¬ä¹Ÿä¼šå¤±è´¥çš„â€”â€”ï¼ˆç¬‘å£°ï¼‰â€”â€”ï¼Œå› ä¸ºï¼å¤©å‘ï¼Œä½ ä»¬å¬åˆ°å¤±è´¥éƒ½è¿™ä¹ˆé«˜å…´ã€‚ï¼ˆç¬‘å£°ï¼‰æ— ç–‘æ˜¯åŠ æ‹¿å¤§äººã€‚ï¼ˆç¬‘å£°ï¼‰æƒ³äº‹ä¸šæœ‰æˆçš„äººä¼šå¤±è´¥ï¼Œå› ä¸ºï¼ŒçœŸçš„ï¼Œç°åœ¨å¥½å·¥ä½œéƒ½åœ¨æ¶ˆå¤±ã€‚æœ‰å¥½å·¥ä½œï¼Œå’Œå¥½äº‹ä¸šï¼Œä¹Ÿæœ‰å·¥ä½œé‡å¤§ï¼Œå‹åŠ›å¤§ï¼Œå¸é£Ÿè¡€æ¶²ï¼Œä¾µèš€çµé­‚çš„é‚£ç§å·¥ä½œï¼Œè€Œä¸”å‡ ä¹æ²¡æœ‰å·¥ä½œèƒ½å¥½ç‚¹çš„ã€‚&lt;/p&gt;
&lt;p&gt;So the people looking for good jobs are going to fail. I&amp;rsquo;m going to talk about
those looking for great jobs, great careers, and why you&amp;rsquo;re going to, why
you&amp;rsquo;re going to fail. First reason is that no matter how many times people tell
you, &amp;ldquo;If you want a great career, you have to pursue your passion, you have to
pursue your dreams, you have to pursue, the greatest fascination in your life,&amp;rdquo;
you hear it again and again and then you decide not to do it. It doesn&amp;rsquo;t matter
how many times you download Steven J.&amp;rsquo;s Stanford commencement address, you
still look at it and decide not to do it.
æ‰€ä»¥æƒ³æ‰¾å¥½å·¥ä½œçš„äººä¼šå¤±è´¥ã€‚æˆ‘è°ˆè°ˆé‚£äº›å¯»æ‰¾ä¼Ÿä¸šçš„äººï¼Œä½ ä»¬ä¸ºä»€ä¹ˆè¦å¯»æ‰¾ï¼Œä¸ºä»€ä¹ˆä¼šå¤±è´¥ã€‚ç¬¬ä¸€ä¸ªåŸå› æ˜¯ä¸ç®¡å¤šå°‘æ¬¡åˆ«äººå‘Šè¯‰ä½ ï¼Œâ€œå¦‚æœä½ æƒ³æˆå°±ä¼Ÿä¸šï¼Œä½ å°±å¿…é¡»è¿½éšä½ çš„çƒ­å¿±ï¼Œä½ å¿…é¡»è¿½éšä½ çš„æ¢¦æƒ³ï¼Œä½ å¿…é¡»è¿½éšï¼Œä½ äººç”Ÿä¸­æœ€å¤§çš„å¸å¼•ï¼Œâ€œ
ä½ å¬è¿‡è¿™å¥è¯ä¸€éåˆä¸€éï¼Œç„¶åä½ å†³å®šï¼Œä¸å»è¿™æ ·åšã€‚ä¸ç®¡ä½ ä¸‹è½½å¤šå°‘æ¬¡ï¼ŒSteven
Jåœ¨æ–¯å¦ç¦å¤§å­¦çš„å¼€å­¦æ¼”è®²ï¼Œä½ è¿˜æ˜¯çœ‹çœ‹ç„¶åå†³å®šä¸å»åšã€‚&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m not quite sure why you decide not to do it. You&amp;rsquo;re too lazy to do it. It&amp;rsquo;s
too hard. You&amp;rsquo;re afraid if you look for your passion and don&amp;rsquo;t find it, you&amp;rsquo;ll
feel like you&amp;rsquo;re an idiot, so then you make excuses about why you&amp;rsquo;re not going
to look for your passion. And they are excuses, ladies and gentlemen. We&amp;rsquo;re
going to go through a whole long list, your creativity, and thinking of excuses
not to do what you really need to do if you want to have a great career.
æˆ‘ä¸å¤ªç¡®å®šä½ ä¸ºä»€ä¹ˆå†³å®šä¸å»åšã€‚ä½ å¤ªæ‡’äº†ã€‚è¿™äº‹å¤ªéš¾ã€‚ä½ å®³æ€•å¦‚æœä½ å»å¯»æ‰¾æ¢¦æƒ³ç„¶åæ‰¾ä¸åˆ°ï¼Œä½ ä¼šè§‰å¾—ä½ åƒä¸ªç™½ç—´ï¼Œæ‰€ä»¥ä½ ç»™è‡ªå·±æ‰¾å€Ÿå£ï¼Œä¸ºä»€ä¹ˆä½ ä¸å»è¿½å¯»ä½ çš„æ¢¦æƒ³ã€‚è¿™äº›éƒ½æ˜¯å€Ÿå£ï¼Œå¥³å£«ä»¬å…ˆç”Ÿä»¬ã€‚æˆ‘ä»¬è¦åˆ—ä¸€ä¸ªé•¿å•å­ï¼Œä½ çš„åˆ›é€ åŠ›ï¼Œæƒ³æƒ³ä½ ä¸å»åšæˆå°±ä¼Ÿä¸šè¯¥åšçš„äº‹æƒ…çš„å€Ÿå£ã€‚&lt;/p&gt;
&lt;p&gt;So, for example, one of your great excuses is, &amp;ldquo;Well, great careers are really
and truly, for most people, just a matter of luck, so I&amp;rsquo;m going to stand
around, I&amp;rsquo;m going to try to be lucky, and if I&amp;rsquo;m lucky, I&amp;rsquo;ll have a great
career. If not, I&amp;rsquo;ll have a good career.&amp;rdquo; But a good career is an
impossibility, so that&amp;rsquo;s not going to work.
æ‰€ä»¥ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œä½ ä¼—å¤šå€Ÿå£ä¹‹ä¸€æ˜¯ï¼Œ
â€œå—¯ï¼Œä¼Ÿä¸šå®é™…ä¸Šå¯¹äºå¤§å¤šæ•°äººæ¥è¯´ï¼Œåªæ˜¯è¿æ°”é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘å°±åœ¨è¿™å¾…ç€ï¼Œæˆ‘å°±è¯•è¯•åšé‚£ä¸ªå¹¸è¿çš„äººï¼Œç„¶åå¦‚æœæˆ‘çœŸå¹¸è¿çš„è¯ï¼Œæˆ‘å°±èƒ½æˆå°±ä¼Ÿä¸šã€‚å¦‚æœä¸èƒ½ï¼Œæˆ‘å°±æ‰¾ä¸ªè¿˜ä¸é”™çš„äº‹ä¸šã€‚â€
ä½†æ˜¯æ²¡æœ‰è¿˜ä¸é”™çš„äº‹ä¸šï¼Œæ‰€ä»¥è¿™ä¸ªè¡Œä¸é€šã€‚&lt;/p&gt;
&lt;p&gt;Then, your other excuse is, &amp;ldquo;Yes, there are special people who pursue their
passions, but they are geniuses. They are Steven J. I&amp;rsquo;m not a genius. When I
was five, I thought I was a genius, but my professors have beaten that idea out
of my head long since.&amp;rdquo; (Laughter) Mm? &amp;ldquo;And now I know I am completely
competent.&amp;rdquo; Now, you see, if this was 1950, being completely competent, that
would have given you a great career. But guess what? This is almost 2012, and
saying to the world, &amp;ldquo;I am totally, completely competent,&amp;rdquo; is damning yourself
with the faintest of praise.
ç„¶åï¼Œä½ è¿˜æœ‰å…¶ä»–å€Ÿå£ï¼šâ€œæ˜¯çš„ï¼Œæœ‰é‚£äº›ä¸ä¼—ä¸åŒçš„äººï¼Œ
è¿½å¯»è‡ªå·±çš„æ¢¦æƒ³ï¼Œä½†æ˜¯ä»–ä»¬æ˜¯å¤©æ‰ã€‚ä»–ä»¬æ˜¯Steven J.
æˆ‘ä¸æ˜¯å¤©æ‰ã€‚æˆ‘äº”å²çš„æ—¶å€™ä»¥ä¸ºè‡ªå·±æ˜¯å¤©æ‰ï¼Œä½†æ˜¯æˆ‘çš„æ•™æˆä»¬æ—©å°±æŠŠè¿™ä¸ªå¿µå¤´ï¼Œæ‰“æ¶ˆäº†ã€‚â€ï¼ˆç¬‘å£°ï¼‰å—¯ï¼Ÿ
â€œç„¶åç°åœ¨æˆ‘çŸ¥é“è‡ªå·±å®Œå…¨æœ‰èƒ½åŠ›ã€‚â€ ç°åœ¨ä½ çœ‹ï¼Œå¦‚æœè¿™æ˜¯åœ¨1950å¹´ï¼Œ
å®Œå…¨æœ‰èƒ½åŠ›ï¼Œå°±èƒ½è®©ä½ æˆå°±ä¼Ÿä¸šã€‚ä½†æ˜¯ä½ çŸ¥é“ä¹ˆï¼Ÿç°åœ¨å‡ ä¹æ˜¯2012å¹´äº†ï¼Œå¯¹ä¸–ç•Œè¯´â€œæˆ‘å®Œå…¨ï¼Œç»å¯¹ï¼Œæœ‰èƒ½åŠ›ï¼Œâ€å°±æ˜¯ç”¨æœ€æ— åŠ›çš„ç§°èµè°´è´£ä½ è‡ªå·±ã€‚&lt;/p&gt;
&lt;p&gt;And then, of course, another excuse: &amp;ldquo;Well, I would do this, I would do this,
but, but, well, after all, I&amp;rsquo;m not weird. Everybody knows that people who
pursue their passions are somewhat obsessive. A little strange? Mm? Mm? Okay?
You know, a fine line between madness and genius. I&amp;rsquo;m not weird. I&amp;rsquo;ve read
Steven J.&amp;rsquo;s biography. Oh my goodness. I am not that person. I am nice. I am
normal. I&amp;rsquo;m a nice, normal person, and nice, normal people don&amp;rsquo;t have passion.
Ah. But I still want a great career. I&amp;rsquo;m not prepared to pursue my passion, so
I know what I&amp;rsquo;m going to do, because I have, I have a solution, I have a
strategy. It&amp;rsquo;s the one Mommy and Daddy told me about. Mommy and Daddy told me
that if I worked hard, I&amp;rsquo;d have a good career. So, if you work hard and have a
good career, if you work really, really, really hard, you&amp;rsquo;ll have a great
career. Doesn&amp;rsquo;t that, like, mathematically make sense?&amp;rdquo; Hmm. Not. (Laughter)
But you&amp;rsquo;ve managed to talk yourself into that.
ç„¶åï¼Œå½“ç„¶ï¼Œå¦å¤–ä¸€ä¸ªå€Ÿå£ï¼šâ€œå—¯ï¼Œæˆ‘ä¼šåšè¿™ä¸ªï¼Œæˆ‘ä¼šåšè¿™ä¸ªï¼Œä½†æ˜¯ï¼Œä½†æ˜¯ï¼Œ
å—¯ï¼Œæ¯•ç«Ÿï¼Œæˆ‘ä¸æ˜¯ä¸ªæ€ªäººã€‚æ¯ä¸ªäººéƒ½çŸ¥é“é‚£äº›è¿½å¯»è‡ªå·±æ¢¦æƒ³çš„äººï¼Œéƒ½å¤šå°‘æœ‰ç‚¹å¼ºè¿«ç—‡ã€‚æœ‰ç‚¹å¥‡æ€ªï¼Ÿå—¯ï¼Ÿå—¯ï¼Ÿå¥½å§ï¼Ÿä½ çŸ¥é“çš„ï¼Œç–¯å­å’Œå¤©æ‰ä¸€çº¿ä¹‹éš”ã€‚
æˆ‘ä¸æ˜¯ä¸ªæ€ªäººã€‚æˆ‘è¯»è¿‡Steven
Jçš„ä¼ è®°ã€‚æˆ‘çš„å¤©å‘ã€‚æˆ‘ä¸æ˜¯é‚£ç§äººã€‚æˆ‘æ˜¯å¥½äººã€‚æˆ‘æ˜¯æ­£å¸¸äººã€‚æˆ‘æ˜¯æ­£å¸¸çš„å¥½äººï¼Œè€Œä¸”æ­£å¸¸çš„å¥½äººï¼Œæ²¡æœ‰æ¢¦æƒ³ã€‚å•Šã€‚ä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³è¦æˆå°±ä¼Ÿä¸šã€‚æˆ‘è¿˜æ²¡å‡†å¤‡å¥½å»è¿½å¯»æ¢¦æƒ³ï¼Œæ‰€ä»¥æˆ‘çŸ¥é“ï¼Œæˆ‘è¦åšä»€ä¹ˆï¼Œå› ä¸ºæˆ‘æœ‰åŠæ³•ï¼Œæˆ‘æœ‰ç­–ç•¥ã€‚å°±æ˜¯çˆ¸çˆ¸å¦ˆå¦ˆå‘Šè¯‰è¿‡æˆ‘çš„é‚£ä¸ªã€‚çˆ¸çˆ¸å¦ˆå¦ˆå‘Šè¯‰æˆ‘è¯´å¦‚æœæˆ‘åŠªåŠ›å·¥ä½œï¼Œ
æˆ‘ä¼šæœ‰ä¸ªä¸é”™çš„äº‹ä¸šã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ åŠªåŠ›å·¥ä½œï¼Œè€Œä¸”æœ‰ä¸ªä¸é”™çš„äº‹ä¸šï¼Œå¦‚æœä½ å·¥ä½œç‰¹åˆ«ç‰¹åˆ«ç‰¹åˆ«åŠªåŠ›ï¼Œä½ å°±èƒ½æˆå°±ä¼Ÿä¸šã€‚è¿™åœ¨æ•°å­¦ä¸Šä¸æ˜¯ä¹Ÿæˆç«‹ä¹ˆï¼Ÿâ€å—¯&amp;hellip;ä¸æ˜¯çš„ã€‚ï¼ˆç¬‘å£°ï¼‰ä½†æ˜¯ä½ è¿˜æ˜¯è®©è‡ªå·±ä¿¡äº†è¿™è¯ã€‚&lt;/p&gt;
&lt;p&gt;You know what? Here&amp;rsquo;s a little secret. You want to work? You want to work
really, really, really hard? You know what? You&amp;rsquo;ll succeed. The world will give
you the opportunity to work really, really, really, really hard, but are you so
sure that that&amp;rsquo;s going to give you a great career when all the evidence is to
the contrary?
ä½ çŸ¥é“ä¹ˆï¼Ÿè¿™æœ‰ä¸€ä¸ªå°ç§˜å¯†ã€‚ä½ æƒ³å·¥ä½œï¼Ÿä½ æƒ³å·¥ä½œç‰¹åˆ«ç‰¹åˆ«ç‰¹åˆ«åŠªåŠ›ï¼Ÿä½ çŸ¥é“ä¹ˆï¼Ÿä½ ä¼šæˆåŠŸçš„ã€‚è¿™ä¸ªä¸–ç•Œä¼šç»™ä½ æœºä¼šå»å·¥ä½œå¾—ç‰¹åˆ«ç‰¹åˆ«ç‰¹åˆ«åŠªåŠ›ï¼Œ
ä½†æ˜¯ä½ å°±é‚£ä¹ˆç¡®ä¿¡è¿™èƒ½è®©ä½ æˆå°±ä¼Ÿä¸šï¼Œå³ä½¿æ‰€æœ‰çš„è¯æ®éƒ½æŒ‡å‘å¦ä¸€è¾¹ï¼Ÿ&lt;/p&gt;
&lt;p&gt;So let&amp;rsquo;s assume, let&amp;rsquo;s deal with those of you who are trying to find your
passion. You actually understand that you really had better do it, never mind
the excuses. You&amp;rsquo;re trying to find your passion, and you&amp;rsquo;re so happy. You found
something you&amp;rsquo;re interested in.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;    æ‰€ä»¥å’±ä»¬å‡è®¾ï¼Œå’±ä»¬æ¥å¤„ç†ä¸€ä¸‹ä½ ä»¬å½“ä¸­ï¼Œæƒ³è¿½å¯»æ¢¦æƒ³çš„äººã€‚ä½ å®é™…ä¸Šæ˜ç™½ä½ æœ€å¥½è¿™ä¹ˆåšã€‚æŠ›å¼€å€Ÿå£ã€‚ä½ è¯•å›¾æ‰¾åˆ°ä½ çš„æ¢¦æƒ³ï¼Œè€Œä¸”ä½ è¿™ä¹ˆå¿«ä¹ã€‚ä½ æ‰¾åˆ°äº†ä½ æ„Ÿå…´è¶£çš„äº‹ã€‚&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I have an interest! I have an interest! You tell me. You say, &amp;ldquo;I have an
interest!&amp;rdquo; I say, &amp;ldquo;That&amp;rsquo;s wonderful! And what, what are you trying to tell me?
That you â€” &amp;ldquo; &amp;ldquo;Well, I have an interest.&amp;rdquo; I say, &amp;ldquo;Do you have passion?&amp;rdquo; &amp;ldquo;I have
an interest,&amp;rdquo; you say. Your interest is compared to what? &amp;ldquo;Well, I&amp;rsquo;m interested
in this.&amp;rdquo; And what about the rest of humanity&amp;rsquo;s activities? &amp;ldquo;I&amp;rsquo;m not interested
in them.&amp;rdquo; You&amp;rsquo;ve looked at them all, have you? &amp;ldquo;No. Not exactly.&amp;rdquo;
æˆ‘æœ‰ä¸ªå…´è¶£ï¼æˆ‘æœ‰ä¸ªå…´è¶£ï¼ä½ å‘Šè¯‰æˆ‘ã€‚ä½ è¯´ï¼Œâ€œæˆ‘æœ‰ä¸ªå…´è¶£ï¼â€æˆ‘è¯´ï¼Œâ€œå¤ªå¥½äº†ï¼â€ä½ æƒ³å‘Šè¯‰æˆ‘ä»€ä¹ˆå‘¢ï¼Ÿ
â€œå—¯ï¼Œæˆ‘æœ‰ä¸ªå…´è¶£ã€‚â€æˆ‘è¯´ï¼Œâ€œä½ æœ‰çƒ­å¿±ä¹ˆï¼Ÿâ€ï¼Œ â€œæˆ‘æœ‰å…´è¶£ï¼Œâ€ä½ è¯´ã€‚ä½ çš„å…´è¶£å’Œä»€ä¹ˆæ¯”è¾ƒï¼Ÿ
â€œå—¯ï¼Œæˆ‘å¯¹è¿™ä¸ªæ„Ÿå…´è¶£ã€‚â€é‚£å…¶ä»–ä¸€åˆ‡çš„äººç±»æ´»åŠ¨å‘¢ï¼Ÿ
â€œæˆ‘å¯¹é‚£äº›æ²¡å…´è¶£ã€‚â€ä½ æŠŠé‚£äº›éƒ½çœ‹è¿‡ä¸€éäº†ï¼Ÿâ€œæ²¡æœ‰ã€‚ä¸å®Œå…¨æ˜¯ã€‚â€&lt;/p&gt;
&lt;p&gt;Passion is your greatest love. Passion is the thing that will help you create
the highest expression of your talent. Passion, interest-it&amp;rsquo;s not the same
thing. Are you really going to go to your sweetie and say, &amp;ldquo;Marry me! You&amp;rsquo;re
interesting.&amp;rdquo; (Laughter) Won&amp;rsquo;t happen. Won&amp;rsquo;t happen, and you will die alone.
(Laughter)
çƒ­å¿±æ˜¯ä½ æœ€é«˜ç¨‹åº¦çš„çƒ­çˆ±ã€‚çƒ­å¿±æ˜¯èƒ½å¸®åŠ©ä½ æœ€å¥½åœ°æˆå°±è‡ªå·±æ‰åçš„äº‹æƒ…ã€‚çƒ­å¿±ï¼Œå…´è¶£â€”â€”ä¸æ˜¯ä¸€å›äº‹ã€‚ä½ çœŸçš„ä¼šå»æ‰¾ä½ çš„ç”œå¿ƒç„¶åè¯´ï¼šâ€œå«ç»™æˆ‘å§ï¼ä½ å¾ˆæœ‰æ„æ€ã€‚â€ï¼ˆç¬‘å£°ï¼‰ä¸ä¼šå‘ç”Ÿçš„ã€‚ä¸ä¼šå‘ç”Ÿï¼Œç„¶åä½ ä¼šå­¤ç‹¬ç»ˆè€ã€‚ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;What you want, what you want, what you want, is passion. It is beyond interest.
You need 20 interests, and then one of them, one of them might grab you, one of
them might engage you more than anything else, and then you may have found your
greatest love in comparison to all the other things that interest you, and
that&amp;rsquo;s what passion is.
ä½ æƒ³è¦çš„ï¼Œä½ æƒ³è¦çš„ï¼Œä½ æƒ³è¦çš„ï¼Œæ˜¯çƒ­å¿±ã€‚å®ƒè¶…è¶Šå…´è¶£ã€‚ä½ éœ€è¦20ä¸ªå…´è¶£ï¼Œç„¶åå®ƒä»¬å…¶ä¸­ä¸€ä¸ªï¼Œå…¶ä¸­ä¸€ä¸ªä¼šæŠ“ä½ä½ ï¼Œè®©ä½ ç‡ƒèµ·æ¿€æƒ…ã€‚
ç„¶åä½ å°±æ‰¾åˆ°äº†ä¸å…¶ä»–äº‹æƒ…ç›¸æ¯”ä¹‹ä¸‹ï¼Œä½ æœ€å¤§çš„çƒ­çˆ±ï¼Œé‚£å°±æ˜¯ä½ çš„çƒ­å¿±ã€‚&lt;/p&gt;
&lt;p&gt;I have a friend, proposed to his sweetie. He was an economically rational
person. He said to his sweetie, &amp;ldquo;Let us marry. Let us merge our
interests.&amp;rdquo;(Laughter)
æˆ‘æœ‰ä¸ªæœ‹å‹ï¼Œå‘ä»–å¥³å‹æ±‚å©šã€‚
ä»–æ˜¯ä¸ªä¼šè¿‡æ—¥å­çš„äººã€‚ä»–å¯¹ä»–å¥³å‹è¯´ï¼šâ€œå’±ä»¬ç»“å©šå§ã€‚è®©å’±ä»¬èåˆåˆ©ç›Šã€‚â€ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;Yes he did. &amp;ldquo;I love you truly,&amp;rdquo; he said. &amp;ldquo;I love you deeply. I love you more
than any other woman I&amp;rsquo;ve ever encountered. I love you more than Mary, Jane,
Susie, Penelope, Ingrid, Gertrude, Gretel-I was on a German exchange program
then.&amp;rdquo; (Laughter) &amp;ldquo;I love you more than&amp;hellip;&amp;rdquo; All right! She left the room
halfway through his enumeration of his love for her. After he got over his
surprise at being, you know, turned down, he concluded he&amp;rsquo;d had a narrow escape
from marrying an irrational person, although he did make a note to himself that
the next time he proposed, it was perhaps not necessary to enumerate all of the
women he had auditioned for the part. (Laughter)
æ˜¯çš„ï¼Œä»–è¿™ä¹ˆè¯´çš„ã€‚â€œæˆ‘çœŸå¿ƒçˆ±ä½ ï¼Œâ€ä»–è¯´ï¼Œâ€œæˆ‘æ·±æ·±çˆ±ç€ä½ ã€‚æˆ‘çˆ±ä½ ï¼Œèƒœè¿‡å…¶ä»–ä»»ä½•å¥³äººã€‚æˆ‘çˆ±ä½ èƒœè¿‡Mary,
Jane, Susie, Penelope,Ingrid, Gertrude, Gretelâ€”â€”
æˆ‘é‚£æ—¶å€™åœ¨ä¸€ä¸ªå¾·å›½çš„äº¤æ¢é¡¹ç›®é‡Œã€‚â€ï¼ˆç¬‘å£°ï¼‰â€œæˆ‘çˆ±ä½ èƒœè¿‡â€”â€”â€ï¼Œ
å¥½çš„ï¼å¥¹åœ¨ä»–åˆ—ä¸¾åˆ°ä¸€åŠçš„æ—¶å€™ï¼Œç¦»å¼€äº†æˆ¿é—´ã€‚åœ¨ä»–ä»è¢«æ‹’ç»çš„æƒŠè®¶ä¸­ç¼“è¿‡æ¥ä¹‹åï¼Œä»–æ€»ç»“äº†ä»–åˆšåˆšæˆåŠŸé€ƒç¦»ï¼Œå’Œä¸€ä¸ªä¸ç†æ€§çš„äººç»“å©šçš„å„è¿ã€‚è™½ç„¶ä»–ä¹Ÿå¯¹è‡ªå·±è¯´ï¼Œä¸‹æ¬¡æ±‚å©šçš„æ—¶å€™ï¼Œä¸å¿…è¦åˆ—ä¸¾æ‰€æœ‰è¿‡å¾€çš„å¥³æœ‹å‹ã€‚ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;But the point stands. You must look for alternatives so that you find your
destiny, or are you afraid of the word &amp;ldquo;destiny&amp;rdquo;? Does the word &amp;ldquo;destiny&amp;rdquo; scare
you? That&amp;rsquo;s what we&amp;rsquo;re talking about, and if you don&amp;rsquo;t find the highest
expression of your talent, if you settle for &amp;ldquo;interesting,&amp;rdquo; what the hell ever
that means, do you know what will happen at the end of your long life? Your
friends and family will be gathered in the cemetery, and there, beside your
gravesite will be a tombstone, and inscribed on that tombstone, it will say,
&amp;ldquo;Here lies a distinguished engineer who invented Velcro.&amp;rdquo; But what that
tombstone should have said, in an alternative lifetime, what it should have
said if it was your highest expression of talent, was, &amp;ldquo;Here lies the last
Nobel Laureate in Physics, who formulated the Grand Unified Field Theory and
demonstrated the practicality of warp drive.&amp;rdquo;(Laughter)
ä½†æ˜¯è¿™ä¸ªè®ºç‚¹æ˜¯æˆç«‹çš„ã€‚ä½ å¿…é¡»å¯»æ‰¾å„ç§é€‰æ‹©ï¼Œæ‰èƒ½æ‰¾åˆ°å‘½ä¸­æ³¨å®šçš„é‚£ä¸ªï¼Œæˆ–è€…ä½ å®³æ€•â€œå‘½ä¸­æ³¨å®šâ€è¿™ä¸ªè¯ä¹ˆï¼Ÿ
â€œå‘½ä¸­æ³¨å®šâ€è¿™ä¸ªè¯å“ç€ä½ ä¹ˆï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬è¦è°ˆçš„ï¼Œè€Œä¸”å¦‚æœä½ æ‰¾ä¸åˆ°ï¼Œä½ æ‰èƒ½çš„æœ€é«˜è¡¨è¾¾ï¼Œå¦‚æœä½ åœ¨ï¼Œâ€œæœ‰æ„æ€â€è¿™é‡Œæ­¢æ­¥ä¸å‰ï¼Œä¸ç®¡è¿™ä»–å¦ˆçš„æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä½ çŸ¥é“åœ¨ä½ æ¼«é•¿çš„ä¸€ç”Ÿå³å°†ç»“æŸçš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆå—ï¼Ÿä½ çš„äº²å‹ä»¬èšé›†åœ¨å¢“åœ°é‡Œï¼Œåœ¨è¿™ï¼Œä½ çš„åŸè¾¹ä¸Šæœ‰ä¸ªå¢“ç¢‘ï¼Œè¿™ä¸ªå¢“ç¢‘ä¸Šåˆ»ç€å­—ï¼Œè¯´ï¼Œâ€œæ­¤åœ°é•¿çœ ç€ä¸€ä½å‘æ˜äº†Velcroçš„æ°å‡ºå·¥ç¨‹å¸ˆã€‚â€ä½†æ˜¯è¿™ä¸ªå¢“ç¢‘ä¸Šä¹Ÿåº”è¯¥åˆ»ç€ï¼Œåœ¨ä¸€ä¸ªå¹³è¡Œæ—¶ç©ºé‡Œï¼Œå¦‚æœè¿™æ˜¯ä½ æ‰èƒ½çš„æœ€é«˜è¡¨è¾¾å®ƒå°±åº”è¯¥åˆ»ç€ï¼Œâ€œæ­¤åœ°é•¿çœ ç€ä¸€ä½è¯ºè´å°”ç‰©ç†å­¦å¥–å¾—ä¸»ï¼Œä»–è§„èŒƒäº†â€˜å¤§ç»Ÿä¸€åœºè®ºâ€™å¹¶ä¸”ç¤ºèŒƒäº†æ›²é€Ÿå¼•æ“çš„å®ç”¨æ€§ã€‚â€ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;Velcro, indeed. (Laughter)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;    Velcroï¼Œçš„ç¡®ã€‚ï¼ˆç¬‘å£°ï¼‰&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;One was a great career. One was a missed opportunity. But then, there are some
of you, in spite of all these excuses, you will find, you will find your
passion, and you&amp;rsquo;ll still fail.
ä¸€ä¸ªæ˜¯ä¼Ÿä¸šã€‚ä¸€ä¸ªæ˜¯å¤±æ‰çš„æœºä¼šã€‚ä½†æ˜¯ï¼Œä½ ä»¬å½“ä¸­æœ‰äº›äººï¼ŒæŠ›å¼€è¿™äº›å€Ÿå£ï¼Œä½ ä»¬ä¼šæ‰¾åˆ°ï¼Œä½ ä»¬ä¼šæ‰¾åˆ°è‡ªå·±çš„çƒ­å¿±ï¼Œç„¶åä½ ä»¬è¿˜æ˜¯å¤±è´¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;re going to fail, because, because you&amp;rsquo;re not going to do it, because you
will have invented a new excuse, any excuse to fail to take action, and this
excuse I&amp;rsquo;ve heard so many times. &amp;ldquo;Yes, I would pursue a great career, but I
value human relationships more than accomplishment. I want to be a great
friend. I want to be a great spouse. I want to be a great parent, and I will
not sacrifice them on the altar of great accomplishment.&amp;rdquo;(Laughter)
ä½ ä¼šå¤±è´¥ï¼Œå› ä¸ºï¼Œå› ä¸ºä½ ä¸ä¼šç€æ‰‹å»åšï¼Œå› ä¸ºä½ ä¼šæƒ³å‡ºæ–°çš„å€Ÿå£ï¼Œä»»ä½•è®©ä½ åªè¯´ä¸åšçš„å€Ÿå£ï¼Œè€Œä¸”è¿™ä¸ªå€Ÿå£ï¼Œæˆ‘å·²ç»å¬è¿‡å¾ˆå¤šæ¬¡äº†ã€‚â€œæ˜¯çš„ï¼Œæˆ‘ä¼šè¿½æ±‚ä¸€ç•ªä¼Ÿä¸šï¼Œä½†æ˜¯ç›¸æ¯”æˆå°±ï¼Œæˆ‘æ›´çœ‹é‡äººä¸äººä¹‹é—´çš„å…³ç³»ã€‚æˆ‘æƒ³åšä¸€ä¸ªå¥½æœ‹å‹ã€‚æˆ‘æƒ³åšä¸€ä¸ªå¥½ä¼´ä¾£ã€‚æˆ‘æƒ³åšä¸€ä¸ªå¥½çˆ¶æ¯ï¼Œè€Œä¸”æˆ‘ä¸ä¼šä¸ºä¼Ÿå¤§çš„æˆå°±è€Œç‰ºç‰²è¿™äº›ã€‚â€ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;What do you want me to say? Now, do you really want me to say now, tell you,
&amp;ldquo;Really, I swear I don&amp;rsquo;t kick children.&amp;rdquo; (Laughter) Hmm? Look at the worldview
you&amp;rsquo;ve given yourself. You&amp;rsquo;re a hero no matter what, and I, by suggesting, ever
so delicately, that you might want a great career, must hate children. I don&amp;rsquo;t
hate children. I don&amp;rsquo;t kick them. Yes, there was a little kid wandering through
this building when I came here, and no, I didn&amp;rsquo;t kick him. (Laughter)
ä½ ä»¬æƒ³è®©æˆ‘è¯´ä»€ä¹ˆï¼Ÿç°åœ¨ï¼Œä½ ä»¬çœŸçš„æƒ³è®©æˆ‘è¯´ï¼Œå‘Šè¯‰ä½ ä»¬ï¼Œâ€œçœŸçš„ï¼Œæˆ‘å‘èª“æˆ‘ä¸è¸¢å°å­©ã€‚â€ï¼ˆç¬‘å£°ï¼‰å—¯ï¼Ÿçœ‹çœ‹ä½ ç»™è‡ªå·±å®šçš„ä¸–ç•Œè§‚ã€‚æ— è®ºå¦‚ä½•ä½ éƒ½æ˜¯ä¸ªè‹±é›„ï¼Œç„¶è€Œæˆ‘ï¼Œé€šè¿‡æš—ç¤ºï¼Œè¿™ä¹ˆå°å¿ƒç¿¼ç¿¼åœ°ï¼Œè¯´ä½ å¯èƒ½æƒ³è¦æˆå°±ä¼Ÿä¸šï¼Œä¸€å®šç—›æ¨å°å­©ã€‚æˆ‘ä¸æ¨å°å­©ã€‚æˆ‘ä¸è¸¢ä»–ä»¬ã€‚æ˜¯çš„ï¼Œåˆšæ‰æˆ‘æ¥çš„æ—¶å€™æœ‰ä¸ªå°å­©èµ°è¿‡æ¥ï¼Œ
æˆ‘æ²¡è¸¢ä»–ã€‚ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;Course, I had to tell him that the building was for adults only and to get out.
He mumbled something about his mother, and I told him she&amp;rsquo;d probably find him
outside anyway. Last time I saw him, he was on the stairs crying. (Laughter)
What a wimp. (Laughter)
å½“ç„¶ï¼Œæˆ‘ä¸å¾—ä¸å‘Šè¯‰ä»–è¿™ä¸ªæ¥¼æ˜¯ç»™å¤§äººçš„ï¼Œä»–å¾—å‡ºå»ã€‚ä»–å«ç³Šåœ°è¯´ä»–å¦ˆå¦ˆä»€ä¹ˆçš„ï¼Œç„¶åæˆ‘è·Ÿä»–è¯´ä»–å¦ˆä¼°è®¡åœ¨å¤–é¢æ‰¾ä»–å‘¢ã€‚æˆ‘ä¸Šæ¬¡çœ‹åˆ°ä»–çš„æ—¶å€™ä»–æ­£åœ¨å°é˜¶ä¸Šå“­å‘¢ã€‚ï¼ˆç¬‘å£°ï¼‰çœŸæ˜¯ä¸ªæ‡¦å¤«ã€‚ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;But what do you mean? That&amp;rsquo;s what you expect me to say. You really think, you
really think it&amp;rsquo;s appropriate that you should actually take children and use
them as a shield? You know what will happen someday, you, you ideal parent,
you? The kid will come to you someday and say, &amp;ldquo;I know what I want to be. I
know what I&amp;rsquo;m going to do with my life.&amp;rdquo; You are so happy. It&amp;rsquo;s the
conversation a parent wants to hear, because your kid&amp;rsquo;s good in math, and you
know you&amp;rsquo;re going to like what comes next. Says your kid, &amp;ldquo;I have decided I
want to be a magician. I want to perform magic tricks on the stage.&amp;rdquo; (Laughter)
ä½†æ˜¯ä½ æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿè¿™å°±æ˜¯ä½ ä»¬æœŸå¾…æˆ‘è¯´çš„ã€‚ä½ çœŸçš„è®¤ä¸ºï¼Œä½ çœŸçš„è®¤ä¸ºï¼Œæ‹¿å°å­©å½“æŒ¡ç®­ç‰Œï¼Œåˆé€‚å—ï¼Ÿä½ çŸ¥é“æœ‰ä¸€å¤©ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œä½ ï¼Œå®Œç¾çš„çˆ¶æ¯ï¼Œå¯¹å—ï¼Ÿä½ çš„å­©å­æœ‰ä¸€å¤©ä¼šè·Ÿä½ è¯´ï¼Œ
â€œæˆ‘çŸ¥é“æˆ‘æƒ³åšä»€ä¹ˆã€‚æˆ‘çŸ¥é“æˆ‘æƒ³æ€ä¹ˆåº¦è¿‡ä¸€ç”Ÿã€‚â€ä½ ç‰¹åˆ«é«˜å…´ã€‚è¿™ç§å¯¹è¯çˆ¶æ¯æœ€çˆ±å¬äº†ï¼Œå› ä¸ºä½ çš„å­©å­æ•°å­¦å¥½ï¼Œè€Œä¸”ä½ çŸ¥é“ä½ ä¼šçˆ±å¬ä½ å­©å­æ¥ä¸‹æ¥çš„è¯ã€‚ä½ å­©å­è¯´ï¼Œâ€œæˆ‘å†³å®šäº†ï¼Œæˆ‘æƒ³åšä¸ªé­”æœ¯å¸ˆã€‚æˆ‘æƒ³åœ¨èˆå°ä¸Šè¡¨æ¼”é­”æœ¯ã€‚â€ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;And what do you say? You say, you say, &amp;ldquo;Umm &amp;hellip; that&amp;rsquo;s risky, kid. Might fail,
kid. Don&amp;rsquo;t make a lot of money at that, kid. You know, I don&amp;rsquo;t know, kid, you
should think about that again, kid, you&amp;rsquo;re so good at math, why don&amp;rsquo;t you &amp;hellip; &amp;rdquo;
ç„¶åä½ è¯´ä»€ä¹ˆï¼Ÿ ä½ è¯´ï¼Œä½ è¯´ï¼Œ
â€œå—¯..â€¦â€¦é‚£æ ·æ¯”è¾ƒä¸ä¿é™©ï¼Œå­©å­ã€‚æœ‰å¯èƒ½ä¼šå¤±è´¥ï¼Œå­©å­ã€‚æŒ£ä¸äº†å¤§é’±ï¼Œå­©å­ã€‚ä½ çŸ¥é“çš„ï¼Œæˆ‘ä¸çŸ¥é“ï¼Œå­©å­ï¼Œ
ä½ åº”è¯¥å†æƒ³æƒ³ï¼Œå­©å­ï¼Œä½ æ•°å­¦è¿™ä¹ˆå¥½ï¼Œä¸ºä»€ä¹ˆä¸â€”â€”â€&lt;/p&gt;
&lt;p&gt;And the kid interrupts you, and says, &amp;ldquo;But it is my dream. It is my dream to do
this.&amp;rdquo; And what are you going to say? You know what you&amp;rsquo;re going to say? &amp;ldquo;Look
kid. I had a dream once, too, but&amp;hellip;but.&amp;rdquo; So how are you going to finish the
sentence with your &amp;ldquo;but&amp;rdquo;? &amp;ldquo;&amp;hellip; But. I had a dream too, once, kid, but I was
afraid to pursue it.&amp;rdquo; Or, are you going to tell him this? &amp;ldquo;I had a dream once,
kid. But then you were born.&amp;rdquo; (Laughter)
ç„¶åä½ å­©å­æ‰“æ–­ä½ ï¼Œè¯´ï¼šâ€œä½†æ˜¯é‚£æ˜¯æˆ‘çš„æ¢¦æƒ³ã€‚æˆ‘æ¢¦æƒ³å°±æ˜¯æˆä¸ºé­”æœ¯å¸ˆã€‚â€ç„¶åä½ è¦è¯´ä»€ä¹ˆï¼Ÿä½ çŸ¥é“ä½ è¦è¯´ä»€ä¹ˆå—ï¼Ÿâ€œä½ çœ‹ï¼Œå­©å­ï¼Œæˆ‘è¿‡å»ä¹Ÿæœ‰è¿‡æ¢¦æƒ³ã€‚ä½†æ˜¯â€”â€”ä½†æ˜¯ã€‚â€æ‰€ä»¥ä½ æƒ³æ€ä¹ˆç”¨â€œä½†æ˜¯â€ç»“æŸä½ çš„å¥å­ï¼Ÿ
â€œâ€¦â€¦ä½†æ˜¯ï¼Œæˆ‘è¿‡å»ä¹Ÿæœ‰è¿‡æ¢¦æƒ³ï¼Œå­©å­ï¼Œä½†æ˜¯æˆ‘æ²¡æ•¢å»è¿½éšã€‚â€è¿˜æ˜¯ï¼Œä½ æƒ³å‘Šè¯‰ä»–è¿™ä¸ªï¼Ÿâ€œæˆ‘è¿‡å»æœ‰æ¢¦æƒ³ï¼Œå­©å­ã€‚ä½†æ˜¯ä¹‹åä½ å‡ºç”Ÿäº†ã€‚â€ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;(Laughter) (Applause)&lt;/p&gt;
&lt;p&gt;ï¼ˆç¬‘å£°ï¼‰ï¼ˆæŒå£°ï¼‰&lt;/p&gt;
&lt;p&gt;Do you, do you really want to use your family, do you really ever want to look
at your spouse and your kid and see your jailers? There was something you could
have said to your kid when he or she said, &amp;ldquo;I have a dream.&amp;rdquo; You could have
said, looked the kid in the face, and said, &amp;ldquo;Go for it, kid, just like I did.&amp;rdquo;
But you won&amp;rsquo;t be able to say that because you didn&amp;rsquo;t. So you can&amp;rsquo;t. (Laughter)
ä½ çœŸçš„ï¼ŒçœŸçš„æƒ³åˆ©ç”¨ä½ çš„å®¶åº­ï¼Œä½ çœŸçš„æƒ³æŠŠä½ çš„ä¼´ä¾£ï¼Œ
å’Œä½ çš„å­©å­å½“æˆç‹±å’å—ï¼Ÿä½ å…¶å®å¯ä»¥è¿™ä¹ˆè·Ÿä½ å­©å­è®²ã€‚å½“ä»–ï¼å¥¹è¯´â€œæˆ‘æœ‰ä¸ªæ¢¦æƒ³â€çš„æ—¶å€™ï¼Œä½ å¯ä»¥è¯´ï¼Œé¢å¯¹ä½ çš„å­©å­ï¼Œè¯´ï¼Œâ€œå»è¿½éšå®ƒå§ï¼Œå­©å­ï¼Œå°±åƒæˆ‘é‚£æ ·ã€‚â€
ä½†æ˜¯ä½ æ²¡æ³•é‚£ä¹ˆè¯´ï¼Œå› ä¸ºä½ æ²¡å»è¿½éšæ¢¦æƒ³ã€‚æ‰€ä»¥ä½ ä¸èƒ½é‚£ä¹ˆè¯´ã€‚ï¼ˆç¬‘å£°ï¼‰&lt;/p&gt;
&lt;p&gt;And so the sins of the parents are visited on the poor children. Why will you
seek refuge in human relationships as your excuse not to find and pursue your
passion? You know why. In your heart of hearts, you know why, and I&amp;rsquo;m being
deadly serious. You know why you would get all warm and fuzzy and wrap yourself
up in human relationships. It is because you are -You know what you are.
ç„¶åçˆ¶æ¯çš„ç½ªæ¶ï¼Œå°±åœ¨å¯æ€œçš„å­©å­ä»¬èº«ä¸Šåº”éªŒäº†ã€‚ä½ ä¸ºä»€ä¹ˆæŠŠäººé™…å…³ç³»å½“æˆä½ ä¸å»è¿½éšä½ çš„çƒ­å¿±çš„å€Ÿå£ï¼Ÿä½ è‡ªå·±çŸ¥é“ä¸ºä»€ä¹ˆã€‚åœ¨ä½ å†…å¿ƒçš„å†…å¿ƒï¼Œä½ çŸ¥é“ä¸ºä»€ä¹ˆï¼Œè€Œä¸”æˆ‘ç°åœ¨éå¸¸ä¸¥è‚ƒã€‚ä½ çŸ¥é“ä½ ä¸ºä»€ä¹ˆä¼šåœ¨äººé™…å…³ç³»ä¸­å±‚å±‚åŒ…è£¹è‡ªå·±ã€‚è¿™æ˜¯å› ä¸ºä½ æ˜¯â€”â€”ä½ çŸ¥é“ä½ æ˜¯ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;re afraid to pursue your passion. You&amp;rsquo;re afraid to look ridiculous. You&amp;rsquo;re
afraid to try. You&amp;rsquo;re afraid you may fail. Great friend, great spouse, great
parent, great career. Is that not a package? Is that not who you are? How can
you be one without the other? But you&amp;rsquo;re afraid.
ä½ ä¸æ•¢å»è¿½æ±‚æ¢¦æƒ³ã€‚ä½ å®³æ€•è‡ªå·±çœ‹èµ·æ¥åƒä¸ªç–¯å­ã€‚ä½ ä¸æ•¢å»å°è¯•ã€‚ä½ å®³æ€•å¤±è´¥ã€‚å¥½æœ‹å‹ï¼Œå¥½ä¼´ä¾£ï¼Œå¥½çˆ¶æ¯ï¼Œä¼Ÿä¸šã€‚ä¸æ˜¯æ‰“åŒ…åœ¨ä¸€èµ·çš„å—ï¼Ÿè¿™éš¾é“ä¸æ˜¯ä½ ï¼Ÿä½ æ€ä¹ˆèƒ½ç¬¦åˆå…¶ä¸­ä¸€ä¸ªå´ä¸ç¬¦åˆå¦ä¸€ä¸ªï¼Ÿä½†æ˜¯ä½ å®³æ€•ã€‚&lt;/p&gt;
&lt;p&gt;And that&amp;rsquo;s why you&amp;rsquo;re not going to have a great career, unless - unless, that
most evocative of all English words &amp;ndash; unless. But the unless word is also
attached to that other, most terrifying phrase, &amp;ldquo;If only I had &amp;hellip; &amp;ldquo; &amp;ldquo;If only I
had &amp;hellip; &amp;rdquo; If you ever have that thought ricocheting in your brain, it will hurt
a lot.
è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ ä¸ä¼šæˆå°±ä¼Ÿä¸šï¼Œé™¤éâ€”â€”é™¤éï¼Œæœ€å¼•äººå›å¿†çš„è¯â€”â€”é™¤éã€‚ä½†æ˜¯é™¤éè¿™ä¸ªè¯å’Œå¦å¤–ä¸€ä¸ªï¼Œ
æœ€å¯æ€•çš„çŸ­è¯­æ˜¯è¿ç€çš„ï¼Œâ€œå¦‚æœæˆ‘å½“åˆâ€¦â€¦â€
â€œå¦‚æœæˆ‘å½“åˆâ€¦â€¦â€å¦‚æœä½ æ›¾ç»æœ‰è¿‡è¿™ä¸ªæƒ³æ³•åœ¨ä½ è„‘æµ·é‡Œå›æ—‹ï¼Œå®ƒä¼šç‰¹åˆ«ä¼¤äººã€‚&lt;/p&gt;
&lt;p&gt;So, those are the many reasons why you are going to fail to have a great
career, unless &amp;hellip;
æ‰€ä»¥ï¼Œè¿™äº›å°±æ˜¯ï¼Œä½ ä¸ºä»€ä¹ˆä¸èƒ½æˆå°±ä¼Ÿä¸šï¼Œçš„ä¼—å¤šåŸå› ã€‚ é™¤éâ€¦â€¦â€œ&lt;/p&gt;
&lt;p&gt;Unless.
é™¤éã€‚&lt;/p&gt;
&lt;p&gt;Thank you. (Applause)
è°¢è°¢ã€‚ï¼ˆæŒå£°ï¼‰&lt;/p&gt;</summary><category term="ted"></category><category term="dream"></category></entry><entry><title>MySQL åˆ é™¤é‡å¤æ•°æ®</title><link href="http://henrychenv.github.io/delete-duplicate-records.html" rel="alternate"></link><updated>2016-02-18T11:54:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-02-18:delete-duplicate-records.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;åˆ é™¤é‡å¤æ•°æ®&lt;br /&gt;
image_infoè¡¨ä¸­æ¯ä¸ªImgUrlåº”è¯¥åªå¯¹åº”ä¸€æ¡è®°å½•,åˆ é™¤å¤šä½™è®°å½•&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="k"&gt;delete&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;image_info&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="k"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3010&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;image_info&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;group&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ImgUrl&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="p"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="mysql"></category><category term="work"></category></entry><entry><title>ç”¨ConfigParserè§£æé…ç½®é¡¹</title><link href="http://henrychenv.github.io/python-configparser.html" rel="alternate"></link><updated>2016-02-11T23:51:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-02-11:python-configparser.html</id><summary type="html">&lt;p&gt;pythonæä¾›äº†ç°æˆçš„é…ç½®æ–‡ä»¶è§£ææ ‡å‡†åº“ConfigParser,&lt;br /&gt;
ä½¿ç”¨æ–¹æ³•ä¸åšè¯¦ç»†ä»‹ç»,åªæ˜¯è®°å½•ä¸‹ä»–çš„é…ç½®é¡¹æŸ¥æ‰¾è§„åˆ™,é¿å…è¸©å‘ã€‚&lt;/p&gt;
&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æŸ¥æ‰¾é¡ºåº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;æµ‹è¯•ä»£ç &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h3 id="_1"&gt;æŸ¥æ‰¾é¡ºåº&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨æ—¶å¾—æ³¨æ„ç‚¹ä»–çš„å‚æ•°æŸ¥æ‰¾é¡ºåº,ç‰¹åˆ«æé˜²æ„é€ å‡½æ•°ä¸­çš„defaultså’Œgetæ–¹æ³•ä¸­çš„varså‚æ•°ï¼Œ&lt;br /&gt;
é…ç½®é¡¹æŸ¥æ‰¾è§„åˆ™å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰¾ä¸åˆ°sectionï¼Œraise ConfigParser.NoSectionError&lt;/li&gt;
&lt;li&gt;vars&lt;/li&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶çš„å¯¹åº”sectionä¸‹&lt;/li&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶[DEFAULT]ä¸‹&lt;/li&gt;
&lt;li&gt;æ„é€ å‡½æ•°çš„defaults&lt;/li&gt;
&lt;li&gt;raise ConfigParser.NoOptionError&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_2"&gt;æµ‹è¯•ä»£ç &lt;/h3&gt;
&lt;p&gt;å€¼å¾—ä¸€æçš„äº‹ï¼Œé…ç½®é¡¹æ”¯æŒå ä½ç¬¦çš„æ–¹å¼&lt;br /&gt;
é…ç½®æ–‡ä»¶format.conf:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;[DEFAULT]&lt;/span&gt;
&lt;span class="code-line"&gt;conn_str = %(dbn)s://%(user)s:%(pw)s@%(host)s:%(port)s/%(db)s&lt;/span&gt;
&lt;span class="code-line"&gt;dbn = mysql&lt;/span&gt;
&lt;span class="code-line"&gt;user = root&lt;/span&gt;
&lt;span class="code-line"&gt;host = localhost&lt;/span&gt;
&lt;span class="code-line"&gt;port = 3306&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;[db1]&lt;/span&gt;
&lt;span class="code-line"&gt;user = aaa&lt;/span&gt;
&lt;span class="code-line"&gt;pw = ppp&lt;/span&gt;
&lt;span class="code-line"&gt;db = example&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;[db2]&lt;/span&gt;
&lt;span class="code-line"&gt;host = 192.168.7.110&lt;/span&gt;
&lt;span class="code-line"&gt;pw = www&lt;/span&gt;
&lt;span class="code-line"&gt;db = example&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;æµ‹è¯•ä»£ç :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# coding=utf-8&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;ConfigParser&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;read_conf&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;defaults&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="s1"&gt;&amp;#39;dbn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="s1"&gt;&amp;#39;user&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;admin&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="s1"&gt;&amp;#39;host&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;127.0.0.1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="s1"&gt;&amp;#39;port&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3306&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;vars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="s1"&gt;&amp;#39;dbn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;test_vars&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="s1"&gt;&amp;#39;user&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;admin_vars&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="s1"&gt;&amp;#39;host&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;127.0.1.1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="s1"&gt;&amp;#39;port&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3306&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;conf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ConfigParser&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ConfigParser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;defaults&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;defaults&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;conf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;format.conf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;conf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;db1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;conn_str&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;vars&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;vars&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;conf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;db2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;conn_str&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;vars&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;vars&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;read_conf&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="reading-notes"></category><category term="python"></category><category term="configparser"></category></entry><entry><title>ç”¨Counterè®¡æ•°</title><link href="http://henrychenv.github.io/python-collections-counter.html" rel="alternate"></link><updated>2016-02-11T22:37:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-02-11:python-collections-counter.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;å¦‚æœæƒ³å¯¹ä¸€ä¸ªlistä¸­çš„å…ƒç´ è®¡æ•°æ€ä¹ˆåŠï¼Œ&lt;br /&gt;
æ¯”å¦‚: ç»Ÿè®¡[2332, 1232, 2332, 3321, 9921]ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸ªæ•°&lt;br /&gt;
ä»Šå¤©ä¸å°å¿ƒçœ‹åˆ°ä¸ªä¸é”™çš„ä¸œè¥¿ï¼Œè®°å½•ä¸‹: å¯ä»¥ä½¿ç”¨collections.Counter&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;collections&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2332&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1232&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2332&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3321&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9921&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;br/&gt;
ç»“æœ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;Counter({2332: 2, 1232: 1, 3321: 1, 9921: 1})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;å¸¸ç”¨çš„å‡ ä¸ªæ–¹æ³•:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Counter(some_data).elements(): æŸ¥çœ‹keyå€¼&lt;/li&gt;
&lt;li&gt;Counter(some_data).most_common(2): æŸ¥çœ‹é¢‘ç‡æœ€é«˜çš„2ä¸ª&lt;/li&gt;
&lt;li&gt;Counter(some_data).update(some_data2): å°±æ˜¯å°†some_dataå’Œsome_data2åˆå¹¶äº†&lt;/li&gt;
&lt;li&gt;Counter(some_data).subtract(some_data2): ç»Ÿè®¡some_data-some_data2çš„å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;æ–‡æ¡£ä¹Ÿå¾ˆè¯¦ç»†:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="n"&gt;Dict&lt;/span&gt; &lt;span class="n"&gt;subclass&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;counting&lt;/span&gt; &lt;span class="n"&gt;hashable&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;  &lt;span class="n"&gt;Sometimes&lt;/span&gt; &lt;span class="n"&gt;called&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;multiset&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;  &lt;span class="n"&gt;Elements&lt;/span&gt; &lt;span class="n"&gt;are&lt;/span&gt; &lt;span class="n"&gt;stored&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dictionary&lt;/span&gt; &lt;span class="n"&gt;keys&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;their&lt;/span&gt; &lt;span class="n"&gt;counts&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;are&lt;/span&gt; &lt;span class="n"&gt;stored&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dictionary&lt;/span&gt; &lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;abcdeabcdabcaba&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# count elements from a string&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;most_common&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                &lt;span class="c1"&gt;# three most common elements&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                       &lt;span class="c1"&gt;# list all unique elements&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;d&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;e&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;elements&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;   &lt;span class="c1"&gt;# list elements with repetitions&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s1"&gt;&amp;#39;aaaaabbbbcccdde&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;                 &lt;span class="c1"&gt;# total of all counts&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;                          &lt;span class="c1"&gt;# count of letter &amp;#39;a&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;elem&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;shazam&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;           &lt;span class="c1"&gt;# update counts from an iterable&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;elem&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;                &lt;span class="c1"&gt;# by adding 1 to each element&amp;#39;s count&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;                          &lt;span class="c1"&gt;# now there are seven &amp;#39;a&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;                      &lt;span class="c1"&gt;# remove all &amp;#39;b&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;                          &lt;span class="c1"&gt;# now there are zero &amp;#39;b&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;simsalabim&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="c1"&gt;# make another counter&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;update&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                     &lt;span class="c1"&gt;# add in the second counter&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;                          &lt;span class="c1"&gt;# now there are nine &amp;#39;a&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;                       &lt;span class="c1"&gt;# empty the counter&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Note&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  &lt;span class="n"&gt;If&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;reduced&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt; &lt;span class="n"&gt;will&lt;/span&gt; &lt;span class="n"&gt;remain&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;counter&lt;/span&gt; &lt;span class="n"&gt;until&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;entry&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;deleted&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;counter&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;cleared&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;aaabbc&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;-=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;                     &lt;span class="c1"&gt;# reduce the count of &amp;#39;b&amp;#39; by two&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;most_common&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;                 &lt;span class="c1"&gt;# &amp;#39;b&amp;#39; is still in, but its count is zero&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Init&lt;/span&gt; &lt;span class="n"&gt;docstring&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Create&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;empty&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt; &lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;  &lt;span class="n"&gt;And&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;given&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="n"&gt;elements&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;an&lt;/span&gt; &lt;span class="nn"&gt;input&lt;/span&gt; &lt;span class="nn"&gt;iterable.&lt;/span&gt;  &lt;span class="nn"&gt;Or&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;initialize&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;another&lt;/span&gt; &lt;span class="nn"&gt;mapping&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;elements&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;their&lt;/span&gt; &lt;span class="n"&gt;counts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;                           &lt;span class="c1"&gt;# a new, empty counter&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gallahad&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                 &lt;span class="c1"&gt;# a new counter from an iterable&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;           &lt;span class="c1"&gt;# a new counter from a mapping&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                   &lt;span class="c1"&gt;# a new counter from keyword args&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;æ„Ÿè§‰æ ‡å‡†åº“åº”è¯¥ä¼šç”¨ä»€ä¹ˆé«˜ç«¯ç®—æ³•æå®šè¿™äº‹,ç»“æœå¾ˆå¤±æœ›&lt;br /&gt;
Counterç»§æ‰¿äº†dict, ä¸‹é¢è¿™æ®µä»£ç æ˜¯å¯¹ç»™å®šå‚æ•°çš„è®¡æ•°,åˆ†åˆ«å¯¹ä¸Šé¢&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gallahad&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                 &lt;span class="c1"&gt;# a new counter from an iterable&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;           &lt;span class="c1"&gt;# a new counter from a mapping&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                   &lt;span class="c1"&gt;# a new counter from keyword args&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸‰ç§æƒ…å†µä½œäº†å¤„ç†&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;iterable&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;iterable&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Mapping&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="n"&gt;self_get&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;elem&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;iterable&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iteritems&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;elem&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;self_get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;elem&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;update&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;iterable&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# fast path when counter is empty&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;self_get&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;elem&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;iterable&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;elem&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;self_get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;elem&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;kwds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;update&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kwds&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™æ ·çš„è¯ï¼Œç®€å•æƒ…å†µä¸‹æˆ‘å®Œå…¨å¯ä»¥ç›´æ¥ç”¨ä»£ç ä¸­çš„&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="n"&gt;self_get&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;elem&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;iterable&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;elem&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;self_get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;elem&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="reading-notes"></category><category term="python"></category><category term="collections"></category><category term="counter"></category></entry><entry><title>Pythonä¸­çš„build-in function</title><link href="http://henrychenv.github.io/python-build-in-function.html" rel="alternate"></link><updated>2016-02-11T16:17:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-02-11:python-build-in-function.html</id><summary type="html">&lt;p&gt;pythonä¸­build-in functionçš„ç¬”è®°ï¼ŒæŒç»­æ›´æ–°&lt;/p&gt;
&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#sorted"&gt;sorted&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ™®é€šç©æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#list"&gt;å¤šç»´list&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#list_1"&gt;å­—å…¸ä¸­çš„list&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#list_2"&gt;Listä¸­çš„å­—å…¸&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#map"&gt;map&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#zip"&gt;zip&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="sorted"&gt;sorted&lt;/h2&gt;
&lt;p&gt;sorted(iterable, cmp=None, key=None, reverse=False) &amp;ndash;&amp;gt; new sorted list&lt;br /&gt;
cmp: è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°,è¿”å›-1,0,1ä»£è¡¨&amp;gt;=&amp;lt;,&lt;br /&gt;
key: è‡ªå®šä¹‰å‡½æ•°,ç”¨äºå–å‡ºiterableæ¯ä¸ªå…ƒç´ ä¸­ç”¨äºæ¯”è¾ƒçš„é¡¹&lt;br /&gt;
reverse: æ˜¯å¦ååº  &lt;/p&gt;
&lt;h3 id="_1"&gt;æ™®é€šç©æ³•&lt;/h3&gt;
&lt;p&gt;æ¨èç”¨keyï¼Œå› ä¸ºcmpæ¯æ¬¡éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œæ•ˆç‡ä½&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;162&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="n"&gt;persons&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;162&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;conke&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;henry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;henry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;sandy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;alex&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;163&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;persons&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;cmp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;cmp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;163&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;alex&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;conke&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;henry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;henry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;sandy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;164&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;persons&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;164&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;alex&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;conke&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;henry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;henry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;age&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;sandy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}]&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="list"&gt;å¤šç»´list&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ç”¨operator.itemgetteræŒ‡å®šåˆ—çš„å…ˆå&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;186&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="n"&gt;gameresults&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;186&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Bob&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;95.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Alan&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;86.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Mandy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;82.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Mandy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;86&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;E&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;187&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;operator&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;itemgetter&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;188&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gameresults&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;itemgetter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;188&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Mandy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;82.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Bob&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;95.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Alan&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;86.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Mandy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;86&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;E&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="list_1"&gt;å­—å…¸ä¸­çš„list&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;199&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="n"&gt;mydict&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;199&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Du&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="s1"&gt;u&amp;#39;Li&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;M&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="s1"&gt;u&amp;#39;Ma&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="s1"&gt;u&amp;#39;Wang&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;P&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="s1"&gt;u&amp;#39;Zhang&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;E&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="s1"&gt;u&amp;#39;Zhe&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;H&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mydict&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iteritems&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="n"&gt;itemgetter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Zhang&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;E&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Du&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Wang&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;P&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Li&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;M&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Zhe&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;H&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;Ma&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;])]&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="list_2"&gt;Listä¸­çš„å­—å…¸&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;213&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="n"&gt;gameresults&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;213&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;losses&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;Bob&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;rating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;75&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;wins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;losses&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;David&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;rating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;57&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;wins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;losses&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;Carol&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;rating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;57&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;wins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;losses&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;Patty&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;rating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;71.48&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;wins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;}]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;214&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gameresults&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;itemgetter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;rating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;214&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;losses&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;Bob&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;rating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;75&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;wins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;losses&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;David&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;rating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;57&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;wins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;losses&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;Patty&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;rating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;71.48&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;wins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;u&amp;#39;losses&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;Carol&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;rating&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;57&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;u&amp;#39;wins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;}]&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h2 id="map"&gt;map&lt;/h2&gt;
&lt;p&gt;TO DO&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id="zip"&gt;zip&lt;/h2&gt;
&lt;p&gt;TO DO&lt;/p&gt;
&lt;hr /&gt;</summary><category term="python"></category><category term="build-in-function"></category></entry><entry><title>pythonä¸­åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦ä¸ºç©º</title><link href="http://henrychenv.github.io/python-if-none.html" rel="alternate"></link><updated>2016-02-10T19:43:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-02-10:python-if-none.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;åœ¨pythonä¸­ï¼Œé€šè¿‡å¦‚ä¸‹ä»£ç åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºç©ºæ—¶&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not empty&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;empty&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;å¦‚æœAå®ç°äº†__nonzero__ä¼šè°ƒç”¨__nonzero__æ–¹æ³•,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;A&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__nonzero__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;testing nonzero&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__len__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;testing len&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not empty&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;empty&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;br/&gt;
ç»“æœ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;$ python main.py &lt;/span&gt;
&lt;span class="code-line"&gt;testing nonzero&lt;/span&gt;
&lt;span class="code-line"&gt;not empty&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;å¦åˆ™è°ƒç”¨__len__(),&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;A&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__len__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;testing len&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not empty&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;empty&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;br/&gt;
ç»“æœ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;$ python main.py &lt;/span&gt;
&lt;span class="code-line"&gt;testing nonzero&lt;/span&gt;
&lt;span class="code-line"&gt;empty&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;å¦åˆ™ï¼Œç›´æ¥è¿”å›True&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;A&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;pass&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not empty&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;empty&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;br/&gt;
ç»“æœ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;$ python main.py &lt;/span&gt;
&lt;span class="code-line"&gt;testing nonzero&lt;/span&gt;
&lt;span class="code-line"&gt;not empty&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="reading-notes"></category><category term="python"></category><category term="build-in-function"></category></entry><entry><title>ç®€å•èŠèŠwith ... as ...</title><link href="http://henrychenv.github.io/python-with-as.html" rel="alternate"></link><updated>2016-02-08T22:58:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-02-08:python-with-as.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;ç®€å•èŠèŠwith aséƒ½å¹²äº†äº›ä»€ä¹ˆ.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;with expr1 as e1, expr2 as e2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç­‰ä»·ä¸&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;expr1&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;expr2&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;withè¯­å¥æ‰§è¡Œè¿‡ç¨‹:  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰§è¡Œexpr, è¿”å›ä¸€ä¸ªcontext managerå¯¹è±¡  &lt;/li&gt;
&lt;li&gt;åŠ è½½context manager çš„__exit__ä»¥åå¤‡ç”¨  &lt;/li&gt;
&lt;li&gt;åŠ è½½context manager çš„__enter__æ–¹æ³•  &lt;/li&gt;
&lt;li&gt;å¦‚æœè®¾ç½®äº†ç›®æ ‡å¯¹è±¡ï¼Œåˆ™å°†__enter__()çš„è¿”å›å€¼èµ‹ç»™è¿™ä¸ªå¯¹è±¡  &lt;/li&gt;
&lt;li&gt;æ‰§è¡Œwithä¸‹é¢çš„ä»£ç å—  &lt;/li&gt;
&lt;li&gt;å¦‚æœæ­¥éª¤5ä»£ç æ­£å¸¸ç»“æŸ,è°ƒç”¨__exit__æ–¹æ³•,å…¶è¿”å›å€¼ä¼šè¢«å¿½ç•¥  &lt;/li&gt;
&lt;li&gt;å¦‚æœæ­¥éª¤5ä»£ç å‘ç”Ÿå¼‚å¸¸,è°ƒç”¨context manager çš„__exit__æ–¹æ³•ï¼Œå¹¶ä¼ å…¥å¼‚å¸¸ç±»å‹,å€¼å’Œtracebackï¼Œ å¦‚æœ__exit__()çš„è¿”å›å€¼ä¸ºfalseï¼Œå¼‚å¸¸ä¼šè¢«é‡æ–°æŠ›å‡ºï¼Œå¦‚æœä¸ºtrueï¼Œå¼‚å¸¸æŒ‚èµ·ï¼Œç¨‹åºç»§ç»­æ‰§è¡Œ  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨with asæœ‰ä¸‰ç§æ–¹å¼:  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ç±»ä¼¼äºopenè¿™ç§ä¼šåæ‚”context managerçš„æ–¹æ³•ç›´æ¥è·å¾—__enter__å’Œ__exit__  &lt;/li&gt;
&lt;li&gt;è‡ªå·±å†™ä¸€ä¸ªclasså®ç°__enter__å’Œ__exit__  &lt;/li&gt;
&lt;li&gt;ä½¿ç”¨contextlib.contextmanagerè£…é¥°èµ·è£…é¥°ä¸€ä¸ªgenerator,æ¯”è¾ƒæ¶å¿ƒçš„æ˜¯è¿™ä¸ªgeneratoråªèƒ½yieldä¸€ä¸ªå€¼ï¼Œä¸èƒ½è¶…è¿‡1ä¸ªï¼Œæ¯”å¦‚å¾ˆå¥½ç”¨çš„é‚£ä¸ªç”¨ç”Ÿæˆå™¨å†™fibonacci,å…·ä½“å‚è€ƒæ–‡æ¡£,å†åæ§½ä¸€æ¬¡,å¥½æ¶å¿ƒ  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æŠ˜è…¾ä¸‹ä¸Šé¢çš„ç†è®º:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;contextlib&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;MyContextManger&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__enter__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;entering ...&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Im return from __enter__&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#        return self&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__exit__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;exception_type&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;exception_value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;traceback&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#        return False  #  withä¸­çš„ä»£ç å—æ­£ç¡®æ—¶,ç›´æ¥è¿”å›Falseä¹Ÿä¸ä¼šæŠ›é”™&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;leaving ...&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;exception_type&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;exception_value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;traceback&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;exception_type&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;no exceptions!&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;exception_type&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ne"&gt;ValueError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;value error !!!&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;other error&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nd"&gt;@contextlib.contextmanager&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;nothing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;sth befor yield&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;sth after yield&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;play_with_mycontextmanager&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;MyContextManger&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;mcm&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;mcm: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mcm&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Do sth ...&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;ValueError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;just for test&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;play_with_open&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/tmp/tmp.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;w&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;nothing to write&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;do sth ...&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;pass&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;play_with_contextlib&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;nothing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;fl&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;fl&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;open file and write&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;play_with_open&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;MyContextManger&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;play_with_mycontextmanager&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;contexlib.contextmanager&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;play_with_contextlib&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç»“æœ  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;$ python mycontextmanage.py&lt;/span&gt;
&lt;span class="code-line"&gt;open file and write&lt;/span&gt;
&lt;span class="code-line"&gt;do sth ...&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;MyContextManger&lt;/span&gt;
&lt;span class="code-line"&gt;entering ...&lt;/span&gt;
&lt;span class="code-line"&gt;mcm:  Im return from __enter__&lt;/span&gt;
&lt;span class="code-line"&gt;Do sth ...&lt;/span&gt;
&lt;span class="code-line"&gt;leaving ...&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;type &amp;#39;exceptions.ValueError&amp;#39;&amp;gt; just for test &amp;lt;traceback object at 0x109a16638&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;value error !!!&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;contexlib.contextmanager&lt;/span&gt;
&lt;span class="code-line"&gt;sth befor yield&lt;/span&gt;
&lt;span class="code-line"&gt;2&lt;/span&gt;
&lt;span class="code-line"&gt;sth after yield&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘è¿™ç§å†™æ³•æ˜¯ä¸æ˜¯æœ‰ç‚¹æ‡’ã€‚  &lt;/p&gt;</summary><category term="reading-notes"></category><category term="python"></category><category term="with"></category></entry><entry><title>æœ‰è¶£çš„ sys.modules</title><link href="http://henrychenv.github.io/python-sys-modules.html" rel="alternate"></link><updated>2016-02-08T16:47:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-02-06:python-sys-modules.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;åœ¨æŸæœ¬ç»™äº†91æ¡pythonå»ºè®®çš„æ ‘ä¸Šçœ‹åˆ°äº†ä¸€æ®µå¥‡æ€ªçš„ä»£ç , æ„¿æ„æ˜¯å¸Œæœ›å°†å¸¸é‡æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­, &lt;br /&gt;
çœ‹åˆ°è¿™ä»£ç , å¤§æ¦‚æ„æ€ä¹Ÿèƒ½çŒœåˆ°, æ€ä¹ˆç”¨ä¹Ÿèƒ½çŒœåˆ°, ä½†å…¶ä¸­å¯¹äºsys.modulesçš„ç”¨æ³•è®©äººè§‰å¾—å¾ˆæœ‰æ„æ€ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸é‡æ–‡ä»¶constant.py ä»£ç :  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#-*- coding=utf-8 -*-&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;import constant&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;_const&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ConstError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ne"&gt;TypeError&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="k"&gt;pass&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ConstCaseError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ConstError&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="k"&gt;pass&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;new _const&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__setattr__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__dict__&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;has_key&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ConstError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Can&amp;#39;t change const. &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isupper&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ConstCaseError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; \&lt;/span&gt;
&lt;span class="code-line"&gt;                    &lt;span class="s1"&gt;&amp;#39;const name &amp;quot;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;&amp;quot; is not all uppercase&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__dict__&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;modules&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_const&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;constant&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;constant&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MY_FIRST_CONSTANT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;constant&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MY_SECOND_CONSTANT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;constant&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MY_THIRD_CONSTANT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;constant&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MY_FORTH_CONSTANT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æµ‹è¯•ä»£ç  test.py:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#-*- coding=utf-8 -*-&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;constant&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;ipdb&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;ipdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_trace&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;### XXX BREAKPOINT&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;constant&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MY_SECOND_CONSTANT&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;constant&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MY_THIRD_CONSTANT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;constant&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MY_FORTH_CONSTANT&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;5&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;test1.pyä¸­å¯ä»¥é¡ºåˆ©è°ƒç”¨constant.pyä¸­çš„å¸¸é‡, å¦‚æœåœ¨test1.pyä¸­æƒ³ä¿®æ”¹å¸¸äº®ä¹Ÿä¼šæŠ¥é”™, 
ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ç« è‚¯å®šåœ¨constant.pyçš„:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;modules&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_const&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;constant&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åŸå› åœ¨äº, __name__è¡¨ç¤ºçš„æ˜¯è¿™ä¸ªmoduleçš„åç§°, å¯èƒ½æ˜¯__main__æˆ–è€…æ–‡ä»¶åå»æ‰åç¼€(è¿™ç‚¹ä¸å±•å¼€), sys.modulesæ˜¯ä¸€ä¸ªå·²çŸ¥æ¨¡å—çš„æ¨¡å—åç§°åˆ°æ¨¡å—çš„æ˜ å°„, å¦‚æœè¦æ‰¾çš„æ¨¡å—çš„åç§°åœ¨sys.modulesä¸­, é‚£ä¹ˆå›æŒ‰ç…§sys.moduleså»æ‰¾, å¦åˆ™sys.pathä¸­æ‰¾, åœ¨constant.pyä¸­ç”¨sys.modules[module_name] = module çš„æ–¹å¼æ”¹å˜äº†constant.pyè¿™ä¸ªæ¨¡å—çš„æŒ‡å‘, åœ¨constant.pyä¸­å†æ¬¡import constantæ—¶, å› ä¸ºconstantè¿™ä¸ªåç§°åœ¨sys.modulesä¸­å·²æœ‰, æ‰€ä»¥ä¼šæŒ‰ç…§sys.modulesçš„æ˜ å°„æ‰¾å‡ºè¿™ä¸ªæ¨¡å—, è€Œåœ¨import å‰å·²ç»å°†æŒ‡å‘æ”¹æˆäº†_const(), æ‰€ä»¥å†æ¬¡import å, constantå°±ç­‰åŒäº_const()äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ªäººè§‰å¾—è¿™ä¸ªç”¨æ³•æ¯”è¾ƒæœ‰è¶£, ç‰¹æ­¤è®°å½•, æ— ä»–æ„ã€‚&lt;/p&gt;</summary><category term="reading-notes"></category><category term="python"></category><category term="fun"></category></entry><entry><title>vimé…ç½®</title><link href="http://henrychenv.github.io/vim-configuration.html" rel="alternate"></link><updated>2016-01-31T14:46:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-01-31:vim-configuration.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;ä¸€ç›´ç”¨vimåº§ä½ideï¼Œæˆ‘çš„é…ç½®æ˜¯åŸºäºå‰è¾ˆçš„æ”¹çš„ï¼Œç°åœ¨æ”¾åœ¨æˆ‘çš„&lt;a href="https://github.com/HenryChenV/vimrc"&gt;github&lt;/a&gt;ä¸Š.&lt;/p&gt;
&lt;p&gt;ä¹‹å‰vimçš„ä¸»é¢˜ä¸€ç›´ç”¨çš„solorizeçš„lightèƒŒæ™¯ï¼Œæœ€è¿‘æ„Ÿè§‰è¿™ä¸ªèƒŒæ™¯æœ‰ç‚¹äº®ï¼Œä¹Ÿå¯èƒ½æ˜¯çœ‹è…»äº†ï¼Œæƒ³æ¢ä¸ªæš—ä¸€ç‚¹çš„èƒŒæ™¯ã€‚
äºæ˜¯é€‰æ‹©äº†molokaiï¼Œå¾ˆåƒsublimeä¸»é¢˜çš„ä¸€æ¬¾ä¸»é¢˜ï¼Œä½†å‘ç°é€‰ä¸­æ—¶å€™ï¼Œé€‰ä¸­çš„éƒ¨åˆ†çœ‹å¾—ä¸æ˜æ˜¾ï¼Œäºæ˜¯åšäº†äº›ä¿®æ”¹ï¼Œä¸»è¦æ˜¯é¢œè‰²æ–¹é¢çš„ã€‚&lt;br /&gt;
é¢œè‰²å¯ä»¥å‚è€ƒ&lt;br /&gt;
&lt;img alt="vimæ‰€æœ‰é¢œè‰²" src="images/vim/vim-color.png" /&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä¿®æ”¹åçš„ä¸»é¢˜ä»£ç ,new_molokai.vim:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot; Vim color file&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot; Author: Tomas Restrepo &amp;lt;tomas@winterdom.com&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot; Note: Based on the monokai theme for textmate&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; by Wimer Hazenberg and its darker variant &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot; by Hamish Stuart Macpherson&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi clear&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;background&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dark&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; version &amp;gt; 580&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="s2"&gt;&amp;quot; no guarantees for version 5.8 and below, but this makes it stop&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;    &amp;quot;&lt;/span&gt; complaining&lt;/span&gt;
&lt;span class="code-line"&gt;    hi clear&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; exists&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;syntax_on&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        syntax reset&lt;/span&gt;
&lt;span class="code-line"&gt;    endif&lt;/span&gt;
&lt;span class="code-line"&gt;endif&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;let&lt;/span&gt; g:colors_name&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;molokai&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; exists&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;g:molokai_original&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;let&lt;/span&gt; s:molokai_original &lt;span class="o"&gt;=&lt;/span&gt; g:molokai_original&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;let&lt;/span&gt; s:molokai_original &lt;span class="o"&gt;=&lt;/span&gt; 0&lt;/span&gt;
&lt;span class="code-line"&gt;endif&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Boolean         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#AE81FF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Character       &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#E6DB74&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Number          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#AE81FF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi String          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#E6DB74&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Conditional     &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#F92672               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Constant        &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#AE81FF               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Cursor          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#000000 guibg=#F8F8F0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Debug           &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#BCA3A3               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Define          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#66D9EF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Delimiter       &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#8F8F8F&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi DiffAdd                       &lt;span class="nv"&gt;guibg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#13354A&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi DiffChange      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#89807D guibg=#4C4745&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi DiffDelete      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#960050 guibg=#1E0010&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi DiffText                      &lt;span class="nv"&gt;guibg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#4C4745 gui=italic,bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Directory       &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#A6E22E               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Error           &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#960050 guibg=#1E0010&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi ErrorMsg        &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#F92672 guibg=#232526 gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Exception       &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#A6E22E               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Float           &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#AE81FF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi FoldColumn      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#465457 guibg=#000000&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Folded          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#465457 guibg=#000000&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Function        &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#A6E22E&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Identifier      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#FD971F&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Ignore          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#808080 guibg=bg&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi IncSearch       &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#C4BE89 guibg=#000000&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Keyword         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#F92672               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Label           &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#E6DB74               gui=none&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Macro           &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#C4BE89               gui=italic&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi SpecialKey      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#66D9EF               gui=italic&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi MatchParen      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#000000 guibg=#FD971F gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi ModeMsg         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#E6DB74&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi MoreMsg         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#E6DB74&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Operator        &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#F92672&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot; complete menu&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;hi Pmenu           guifg=#66D9EF guibg=#000000&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;hi PmenuSel                      guibg=#808080&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;hi PmenuSbar                     guibg=#080808&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;hi PmenuThumb      guifg=#66D9EF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;hi PreCondit       guifg=#A6E22E               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;hi PreProc         guifg=#A6E22E&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;hi Question        guifg=#66D9EF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;hi Repeat          guifg=#F92672               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;hi Search          guifg=#FFFFFF guibg=#455354&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; marks column&lt;/span&gt;
&lt;span class="code-line"&gt;hi SignColumn      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#A6E22E guibg=#232526&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi SpecialChar     &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#F92672               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi SpecialComment  &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#465457               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Special         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#66D9EF guibg=bg      gui=italic&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi SpecialKey      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#888A85               gui=italic&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; has&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;spell&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    hi SpellBad    &lt;span class="nv"&gt;guisp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#FF0000 gui=undercurl&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    hi SpellCap    &lt;span class="nv"&gt;guisp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#7070F0 gui=undercurl&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    hi SpellLocal  &lt;span class="nv"&gt;guisp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#70F0F0 gui=undercurl&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    hi SpellRare   &lt;span class="nv"&gt;guisp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#FFFFFF gui=undercurl&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;endif&lt;/span&gt;
&lt;span class="code-line"&gt;hi Statement       &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#F92672               gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi StatusLine      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#455354 guibg=fg&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi StatusLineNC    &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#808080 guibg=#080808&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi StorageClass    &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#FD971F               gui=italic&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Structure       &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#66D9EF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Tag             &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#F92672               gui=italic&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Title           &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#ef5939&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Todo            &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#FFFFFF guibg=bg      gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Typedef         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#66D9EF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Type            &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#66D9EF               gui=none&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Underlined      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#808080               gui=underline&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi VertSplit       &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#808080 guibg=#080808 gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi VisualNOS                     &lt;span class="nv"&gt;guibg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#403D3D&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi Visual                        &lt;span class="nv"&gt;guibg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#403D3D&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi WarningMsg      &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#FFFFFF guibg=#333333 gui=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hi WildMenu        &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#66D9EF guibg=#000000&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;if&lt;/span&gt; s:molokai_original &lt;span class="o"&gt;==&lt;/span&gt; 1&lt;/span&gt;
&lt;span class="code-line"&gt;   hi Normal          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#F8F8F2 guibg=#272822&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi Comment         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#75715E&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi CursorLine                    &lt;span class="nv"&gt;guibg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#3E3D32&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi CursorColumn                  &lt;span class="nv"&gt;guibg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#3E3D32&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi LineNr          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#BCBCBC guibg=#3B3A32&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi NonText         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#BCBCBC guibg=#3B3A32&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi Normal          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#F8F8F2 guibg=#1B1D1E&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi Comment         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#465457&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi CursorLine                    &lt;span class="nv"&gt;guibg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#293739&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi CursorColumn                  &lt;span class="nv"&gt;guibg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#293739&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi LineNr          &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#BCBCBC guibg=#232526&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi NonText         &lt;span class="nv"&gt;guifg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c1"&gt;#BCBCBC guibg=#232526&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;end&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; Support &lt;span class="k"&gt;for&lt;/span&gt; 256-color terminal&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;if &amp;amp;t_Co &amp;gt; 255&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Boolean         ctermfg=135&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Character       ctermfg=144&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Number          ctermfg=135&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi String          ctermfg=144&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Conditional     ctermfg=161               cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Constant        ctermfg=135               cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Cursor          ctermfg=16  ctermbg=253&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Debug           ctermfg=225               cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Define          ctermfg=81&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Delimiter       ctermfg=241&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi DiffAdd                     ctermbg=24&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi DiffChange      ctermfg=181 ctermbg=239&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi DiffDelete      ctermfg=162 ctermbg=53&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi DiffText                    ctermbg=102 cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Directory       ctermfg=118               cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Error           ctermfg=219 ctermbg=89&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi ErrorMsg        ctermfg=199 ctermbg=16    cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Exception       ctermfg=118               cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Float           ctermfg=135&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi FoldColumn      ctermfg=67  ctermbg=16&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Folded          ctermfg=67  ctermbg=16&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Function        ctermfg=118&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Identifier      ctermfg=208&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Ignore          ctermfg=244 ctermbg=232&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi IncSearch       ctermfg=193 ctermbg=16&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Keyword         ctermfg=161               cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Label           ctermfg=229               cterm=none&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Macro           ctermfg=193&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi SpecialKey      ctermfg=81&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi MatchParen      ctermfg=16  ctermbg=208 cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi ModeMsg         ctermfg=229&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi MoreMsg         ctermfg=229&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Operator        ctermfg=161&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   &amp;quot;&lt;/span&gt; &lt;span class="nb"&gt;complete&lt;/span&gt; menu&lt;/span&gt;
&lt;span class="code-line"&gt;   hi Pmenu           &lt;span class="nv"&gt;ctermfg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;81&lt;/span&gt;  &lt;span class="nv"&gt;ctermbg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;16&lt;/span&gt;
&lt;span class="code-line"&gt;   hi PmenuSel                    &lt;span class="nv"&gt;ctermbg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;244&lt;/span&gt;
&lt;span class="code-line"&gt;   hi PmenuSbar                   &lt;span class="nv"&gt;ctermbg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;232&lt;/span&gt;
&lt;span class="code-line"&gt;   hi PmenuThumb      &lt;span class="nv"&gt;ctermfg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;81&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   hi PreCondit       &lt;span class="nv"&gt;ctermfg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;118&lt;/span&gt;               &lt;span class="nv"&gt;cterm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;bold&lt;/span&gt;
&lt;span class="code-line"&gt;   hi PreProc         &lt;span class="nv"&gt;ctermfg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;118&lt;/span&gt;
&lt;span class="code-line"&gt;   hi Question        &lt;span class="nv"&gt;ctermfg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;81&lt;/span&gt;
&lt;span class="code-line"&gt;   hi Repeat          &lt;span class="nv"&gt;ctermfg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;161&lt;/span&gt;               &lt;span class="nv"&gt;cterm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;bold&lt;/span&gt;
&lt;span class="code-line"&gt;   hi Search          &lt;span class="nv"&gt;ctermfg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;253&lt;/span&gt; &lt;span class="nv"&gt;ctermbg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;66&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="s2"&gt;&amp;quot; marks column&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi SignColumn      ctermfg=118 ctermbg=235&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi SpecialChar     ctermfg=161               cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi SpecialComment  ctermfg=245               cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Special         ctermfg=81  ctermbg=232&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi SpecialKey      ctermfg=245&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Statement       ctermfg=161               cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi StatusLine      ctermfg=238 ctermbg=253&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi StatusLineNC    ctermfg=244 ctermbg=232&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi StorageClass    ctermfg=208&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Structure       ctermfg=81&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Tag             ctermfg=161&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Title           ctermfg=166&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Todo            ctermfg=231 ctermbg=232   cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Typedef         ctermfg=81&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Type            ctermfg=81                cterm=none&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Underlined      ctermfg=244               cterm=underline&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi VertSplit       ctermfg=244 ctermbg=232   cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi VisualNOS                   ctermbg=238&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Visual                      ctermbg=238&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi WarningMsg      ctermfg=231 ctermbg=238   cterm=bold&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi WildMenu        ctermfg=81  ctermbg=16&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Normal          ctermfg=252 ctermbg=233&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi Comment         ctermfg=59&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi CursorLine                  ctermbg=234   cterm=none&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi CursorColumn                ctermbg=234&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi LineNr          ctermfg=250 ctermbg=234&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;   hi NonText         ctermfg=250 ctermbg=234&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s2"&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="vim"></category><category term="theme"></category><category term="fun"></category></entry><entry><title>æŠ˜è…¾åšå®¢</title><link href="http://henrychenv.github.io/paly-with-blog.html" rel="alternate"></link><updated>2016-02-08T23:47:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-01-30:paly-with-blog.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;åšå®¢ç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;åšå®¢ä¸»é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;å‘Šä¸€æ®µè½å§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#todo"&gt;TODO&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;æœ€è¿‘æŠ˜è…¾åšå®¢æŠ˜è…¾çš„ä¼˜ç‚¹èµ°ç«å…¥é­”,ä»åšå®¢ç±»å‹çš„æŒ‘é€‰åˆ°åšå®¢ä¸»é¢˜çš„æŒ‘é€‰ï¼Œä»¥åŠæœ€åå¯¹æ ·å¼çš„æ”¹åŠ¨ï¼Œä¸€ç›´åœ¨ä¸åœçš„çº ç»“ã€‚  &lt;/p&gt;
&lt;h1 id="_1"&gt;åšå®¢ç±»å‹&lt;/h1&gt;
&lt;p&gt;å› ä¸ºä¹°äº†ä¸ªäº‘æœåŠ¡å™¨ï¼Œæ‰€ä»¥æ€»æƒ³ç‰©å°½å…¶ç”¨ï¼Œåˆšå¼€å§‹æ€»æƒ³æ‰¾ä¸ªå¤æ‚ç‚¹çš„å¼€æºåšå®¢æ¥ç”¨ã€‚çœ‹äº†å¾ˆå¤šå¼€æºè½¯ä»¶ï¼Œæœç´¢èŒƒå›´æ˜¯pythonå†™çš„åšå®¢ï¼Œå› ä¸ºè¿™æ ·æ”¹èµ·æ¥æ–¹ä¾¿ã€‚ä»å›½äººå†™çš„åˆ°githubä¸Šå·²ç»æœ‰setup.pyçš„zinniaï¼Œæ„Ÿè§‰å¥½çœ‹çš„ä¸æ”¯æŒmarkdownï¼Œæ”¯æŒmarkdownçš„åå°é‚£å«ä¸€ä¸ªä¸‘ï¼Œå¹²è„†ç›´æ¥å¹²æ‰åå°ç»™ä¸ªæ–‡ä»¶ä¸Šä¼ çš„å¾—äº†ã€‚  &lt;/p&gt;
&lt;p&gt;åæ¥çœ‹åˆ°&lt;a href="http://blog.csdn.net/kamidox/article/details/40485773"&gt;ä¸€ç¯‡åšå®¢&lt;/a&gt;ä¸­æåˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸ªäººåšå®¢éœ€è¦æ•°æ®åº“å—ã€‚åˆšçœ‹åˆ°è¿™ä¸ªé—®é¢˜æ—¶æ„Ÿè§‰å¾ˆå¥½ç¬‘ï¼Œåšå®¢é˜²åˆ°ç½‘ä¸Šè¡¥æ•‘æ˜¯ç»™äººçœ‹çš„å—ï¼Œè¿æ•°æ®åº“éƒ½æ²¡æ€ä¹ˆè®©äººå®¶è¯„è®ºä½ çš„æ–‡ç« ã€‚çœ‹å®Œäº†ä½œè€…çš„æ–‡ç« åï¼Œæˆ‘å‘ç°åŸæ¥è¯„è®ºæ¨¡å—å¯ä»¥ç›´æ¥å¤–æ¥åˆ«äººç°æˆçš„ä¸œè¥¿ï¼Œè€Œè¿™äº›åœ¨ä¸€ä¸ªå«pelican çš„é¡¹ç›®ä¸­å·²ç»é›†æˆäº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ æƒ³æ­ä¸ªåšå®¢ï¼Œè¯„è®ºæ¨¡å—å¯ä»¥å®Œå…¨ä¸ç”¨è‡ªå·±å†™ï¼Œå¯ä»¥ä½¿ç”¨åˆ«äººçš„æ¨¡å—ï¼ŒæŒ‰ç…§äººå®¶æä¾›çš„æ–¹å¼æ¥å…¥åˆ°äººå®¶çš„è¯„è®ºç³»ç»Ÿå°±å¯ä»¥ï¼Œæ¯”å¦‚disqusã€‚è€Œè‡ªå·±çš„ç½‘ç«™å¯ä»¥å…¨éƒ½æ˜¯é™æ€æ–‡ä»¶ï¼Œpelicanæ˜¯ä¸ªé™æ€æ–‡ä»¶ç”Ÿæˆå™¨ï¼Œå¯ä»¥æ ¹æ®markdownæ–‡æ¡£ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œç„¶åç›´æ¥æ”¾åˆ°webæœåŠ¡å™¨ä¸­å°±okäº†ã€‚è‡³äºè¯„è®ºæ¨¡å—ï¼Œæœ¬æ¥è¿˜éœ€è¦è‡ªå·±åœ¨é™æ€æ–‡ä»¶ä¸­æ¥å…¥ï¼Œè€Œè¿™ä¸ªåŠŸèƒ½pelicanç›´æ¥ç»™æˆ‘åšå¥½äº†ï¼Œç»™å®ƒä¸ªdisqusçš„å‚æ•°å°±å¯ä»¥äº†ã€‚niceï¼  &lt;/p&gt;
&lt;p&gt;å›åˆ°æœ€å¼€å§‹çš„é—®é¢˜ï¼Œåšå®¢éœ€è¦æ•°æ®åº“å—ï¼Ÿå¯ä»¥éœ€è¦ï¼Œè‡³å°‘å¯¹äºæˆ‘ä¸ªäººæ¥è¯´ï¼Œè¦æ±‚è¾¾åˆ°äº†ï¼Œ&lt;br /&gt;
ç¬¬ä¸€ï¼Œæ”¯æŒmarkdownï¼Œä¸ºä»€ä¹ˆï¼Œå› ä¸ºç”¨markdownå†™ç®€å•å¸¦æ„Ÿï¼Œè€Œä¸”åˆ©äºä¿å­˜ï¼Œä¸ç„¶å“ªå¤©çœ‹è‡ªå·±é‚£ä¸ªæœ‰æ•°æ®åº“çš„åšå®¢ä¸çˆ½ï¼Œæƒ³é‡æ–°æ‰¾ä¸ªçš„æ—¶å€™ï¼Œè¿ç§»æ˜¯ä¸ªé—®é¢˜ï¼›&lt;br /&gt;
ç¬¬äºŒï¼Œå¯ä»¥è¯„è®ºï¼Œç›´æ¥ç”¨åˆ«äººçš„ä¸œè¥¿ï¼Œè‡ªå·±åŸºæœ¬ä¸ç”¨å¼€å‘å’Œç»´æŠ¤ï¼Œæ³¨å†Œè´¦å·å°±è¡Œï¼Œé¡¶å¤šä¸ªäººå®¶å†æ‰“ä¸ªå¹¿å‘Šã€‚  &lt;/p&gt;
&lt;p&gt;ä»”ç»†æƒ³æƒ³ï¼Œå…¶å®è¿™ç§æ–¹å¼æ›´è½»ä¾¿ï¼Œæ›´æœ‰æŠ€æœ¯çš„æ„Ÿè§‰åœ¨é‡Œé¢ã€‚å¥½å¤„ä¸»è¦æœ‰ä¸‰ä¸ªã€‚&lt;br /&gt;
ç¬¬ä¸€ï¼Œè¿™ç§æ–¹å¼æ›´åŠ è½»ä¾¿ï¼Œå¥½ç»´æŠ¤ï¼Œä»¥åäº‘æœåŠ¡å™¨ä¸è¦äº†å¯ä»¥ä½¿ç”¨github packgeï¼›&lt;br /&gt;
ç¬¬äºŒï¼Œå› ä¸ºæ‰€æœ‰æ–‡æ¡£çš„æºå¤´éƒ½æ˜¯åŒä¸€ä»½mdæ–‡æ¡£ï¼Œè€Œä¸æ˜¯ä»Aå¤åˆ¶åˆ°B,å†åˆ°C,ä¿®æ”¹Aä¹‹åè¦å†å¤åˆ¶ç²˜è´´2éï¼›&lt;br /&gt;
ç¬¬ä¸‰ï¼Œè¯„è®ºæ¨¡å—å®Œå…¨ä¸ç”¨è‡ªå·±å¼€å‘ï¼Œçˆ½ï¼  &lt;/p&gt;
&lt;h1 id="_2"&gt;åšå®¢ä¸»é¢˜&lt;/h1&gt;
&lt;p&gt;åšå®¢å†³å®šç”¨é™æ€æ–‡ä»¶ç”Ÿæˆå™¨æ ¹æ®mdæ–‡æ¡£ç”Ÿæˆï¼Œpelicanæä¾›äº†Nå¤š&lt;a href="http://www.pelicanthemes.com"&gt;ä¸»é¢˜&lt;/a&gt;ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯foundation-default-colours,ç„¶åç¨ä½œä¿®æ”¹è‡ªå·±ç”¨äº†ã€‚&lt;br /&gt;
å¯¹äºä¸»é¢˜ï¼Œæˆ‘çš„è¦æ±‚æ˜¯ï¼Œå¾—æœ‰categoryï¼Œtagå’ŒæŒ‰æ—¶é—´å½’æ¡£çš„åŠŸèƒ½ï¼Œè¿™å‡ ä¸ªåŠŸèƒ½è¿™ä¸ªä¸»é¢˜éƒ½æœ‰ï¼Œåªæ˜¯æ ·å¼ä¸æ•¢æ­ç»´ï¼Œæˆ‘å‚è€ƒå…¶ä»–ä¸»é¢˜çš„æ ·å¼åšäº†å°å°çš„ä¿®æ”¹ã€‚æˆ‘æœ€å–œæ¬¢çš„æ˜¯è¿™ä¸ªä¸»é¢˜ä¸­çš„tagçš„å±•ç¤ºæ–¹å¼ï¼Œå¾ˆå¤šä¸»é¢˜ä¸­éƒ½æ˜¯ä¸€ä¸ªåˆ—è¡¨ä»ä¸Šåˆ°ä¸‹ï¼Œè¿™ä¸ªæ˜¯ä¸€è¡Œä¸€è¡Œç©ºæ ¼åˆ†å‰²ï¼Œç´§å‡‘æ’åˆ—çš„ï¼Œè¿™æ ·å¯ä»¥å±•ç¤ºæ›´å¤šçš„tagï¼Œæ–¹ä¾¿æŸ¥æ‰¾ã€‚ä½†æˆ‘æ‹…å¿ƒåæ¥çš„tagä¼šå¾ˆå¤šï¼Œæ‰€ä»¥æ”¹äº†ä¸‹ï¼ŒåŠ äº†ä¸ªtagçš„å±•ç¤ºé¡µé¢ã€‚å…·ä½“æ€ä¹ˆæŠ˜è…¾pelicançš„ä¸»é¢˜ä»¥åŠpelicanæœ¬èº«ï¼Œè¿˜å¾—googleå’ŒæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œè¯´ä¸å…¨çš„ã€‚  &lt;/p&gt;
&lt;h1 id="_3"&gt;å‘Šä¸€æ®µè½å§&lt;/h1&gt;
&lt;p&gt;å› ä¸ºæ€»æ˜¯æŠŠå¿ƒæ€èŠ±åœ¨æŠ˜è…¾åšå®¢ä¸Šï¼Œè€Œä¸”ä¸åœ¨å†…å®¹ï¼Œæœ‰ç‚¹ä¹°æ¤Ÿè¿˜ç çš„æ„Ÿè§‰ã€‚è¿™å¹¶ä¸æ˜¯è¯´åšå®¢çš„é€‰æ‹©ä¸é‡è¦ï¼Œè€Œæ˜¯è§‰å¾—å†…å®¹æ‰æ˜¯æ›´é‡è¦çš„ã€‚æˆ‘åšè¿™ä¸€åˆ‡ç€ä¸è¿‡æ˜¯æƒ³ç»™è‡ªå·±ä¸€ä¸ªå–œæ¬¢çš„å†™åšå®¢çš„ç¯å¢ƒï¼Œå¦‚æœç¯å¢ƒéƒ½ä¸å–œæ¬¢ï¼Œä¸€çœ‹åˆ°å°±åŒæ¶ï¼Œè¿™äº‹æƒ…æ€ä¹ˆè¿›è¡Œä¸‹å»ã€‚  &lt;br /&gt;
ä¸è¿‡ï¼Œç°åœ¨ä¹Ÿè¯¥æ»¡æ„äº†ï¼ŒåŠŸèƒ½ä¹Ÿéƒ½æœ‰äº†ã€‚  &lt;br /&gt;
æœ¬æ¥è¿˜æƒ³å¯¹æ ·å¼å†åšè¿›ä¸€æ­¥ä¿®æ”¹çš„ï¼Œä½†è§‰å¾—è¿™æ ·å·²ç»å¤Ÿäº†ï¼Œå¤ªèŠ±äº†ä¸å¥½ï¼Œå®¹æ˜“åˆ†å¿ƒï¼Œè€Œä¸”æˆ‘ä¹Ÿä¸æ“…é•¿ä¹Ÿä¸æ‰“ç®—å¾€å‰ç«¯å‘å±•ã€‚ç®€æ´ç¾æ¯”è¾ƒé€‚åˆæˆ‘ã€‚  &lt;br /&gt;
è¯´ä¸æŠ˜è…¾ï¼ŒæŠŠé‡å¿ƒç§»åˆ°å†…å®¹ä¸Šï¼Œç»“æœè¿˜æ˜¯æŠ˜è…¾äº†ï¼Œåˆè¿™ä¹ˆæ™šï¼ŒçœŸå¿ƒä¸æƒ³æŠ˜è…¾äº†ï¼Œè¿™ä¸ªä¸»é¢˜è¿˜ä¸é”™ï¼Œä¸èŠ±å“¨ï¼Œbootstrapæµçš„ä¸»é¢˜éƒ½æ¯”è¾ƒå¥½çœ‹ï¼Œä½†ä¸ä¸€å®šé€‚åˆæˆ‘ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªä¸»é¢˜ç¬”è®°é€‚åˆæˆ‘ã€‚  &lt;br /&gt;
ä»Šå¤©åŠ ä¸Šäº†ç™¾åº¦ä»£ç çš„æŠ“å–ï¼Œå¯¹å½’æ¡£é‚£ä¸€å—çš„æ ·å¼åšäº†äº›ä¿®æ”¹ï¼Œè‡ªæˆ‘æ„Ÿè§‰è‰¯å¥½ã€‚ä½†æˆ‘ä¸æ˜¯åšå‰ç«¯çš„å•Šã€‚  &lt;br /&gt;
æˆ‘æ§åˆ¶ä¸ä½å•Šï½æ€ä¹ˆåŠå•Šï½  &lt;br /&gt;
åˆæ”¹äº†å‡ ä¸‹æ ·å¼ï¼Œä¸»è¦æ˜¯é’ˆå¯¹å½’æ¡£çš„ï¼Œå¯ä»¥ç‚¹å‡»æ—¥æœŸè·³è½¬åˆ°å¯¹åº”çš„å¹´æˆ–è€…æœˆçš„å½’æ¡£å»ã€‚  &lt;br /&gt;
è¿˜æœ‰å°±æ˜¯å«äº†tag cloudã€‚  &lt;br /&gt;
åº”è¯¥ä¸ä¼šå†æŠ˜è…¾äº†å§ã€‚  &lt;br /&gt;
åˆ å…‰äº†é…ç½®ä¸­å…¶ä»–ä¸»é¢˜çš„é…ç½®ï¼Œä¸“å¿ƒå¼„ç°åœ¨è¿™ä¸ªè¿™ä¸ªä¸»é¢˜äº†ã€‚  &lt;br /&gt;
å†³å®šæŠŠè¿™ä¸ªä¸»é¢˜ç»™åšç¨³äº†ã€‚    &lt;/p&gt;
&lt;h1 id="todo"&gt;TODO&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;æœç´¢åŠŸèƒ½ï¼Œæš‚æ—¶ä¸æ‰“ç®—åŠ ï¼Œå› ä¸ºåšå®¢å°‘ï¼Œè€Œä¸”æ›´ä¸»è¦çš„æ˜¯æƒ³å†™ç»™è‡ªå·±çœ‹ï¼Œä¸ç„¶çœ‹äº†å¿˜äº†ä¸å¥½ã€‚è¿™ä¸ªåŠŸèƒ½å¦‚æœæ²¡ç°æˆçš„ä¸œè¥¿ï¼Œåšèµ·æ¥æ„Ÿè§‰è¿˜æ˜¯æœ‰çš„éº»çƒ¦çš„;&lt;/li&gt;
&lt;li&gt;&lt;del&gt;åˆ†é¡µï¼Œç­‰åšå®¢å¤šäº†å†è¯´ï¼Œçœ‹åˆ°æœ‰äº›ä¸»é¢˜ä¸­æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œåˆ°æ—¶å€™æŠ„è¿‡æ¥&lt;/del&gt;(done,ä¸»é¢˜è‡ªå¸¦ï¼Œåªæ˜¯ä¹‹å‰æ²¡å‘ç°ï¼Œå·²æå®š)ï¼›  &lt;/li&gt;
&lt;li&gt;æ–‡ç« é¡µé¢ä¸‹ä¸€ç¯‡çš„åŠŸèƒ½ï¼Œæ„Ÿè§‰åˆ«äººä¸ä¼šç”¨è‡ªå·±ä¹Ÿä¸ä¼šç”¨çš„åŠŸèƒ½ï¼Œæœ‰äº†æ¯”é¸¡è‚‹è¿˜ä¸å¦‚ï¼Œæ²¡ç”¨åˆæœ‰ç‚¹éš¾å—ï¼Œä¸ºä»€ä¹ˆè¦åœ¨todoé‡Œé¢ï¼Œå› ä¸ºæˆ‘çŠ¯è´±å•Šã€‚  &lt;/li&gt;
&lt;li&gt;tagsé¡µé¢æ ·å¼ä¿®æ”¹ï¼Œç­‰tagè¶³å¤Ÿå¤šå†è¯´å§ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;del&gt;pelicanå°†mdè½¬æˆmarkdownçš„æ—¶å€™ï¼Œå¯¹æœ‰åºåˆ—è¡¨æ²¡åšè½¬æ¢ï¼Œä¸çŸ¥é“æ€ä¹ˆæçš„&lt;/del&gt;(done å†™åˆ—è¡¨å‰è®°å¾—ç©ºè¡Œ)&lt;/li&gt;
&lt;li&gt;&lt;del&gt;åŠ å›åˆ°é¡¶éƒ¨åŠŸèƒ½&lt;/del&gt; (done)&lt;/li&gt;
&lt;/ol&gt;</summary><category term="blog"></category><category term="fun"></category><category term="play"></category></entry><entry><title>è½¯é“¾æ¥ï¼Œç¡¬é“¾æ¥</title><link href="http://henrychenv.github.io/soft-and-hard-link.html" rel="alternate"></link><updated>2016-01-31T18:57:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-01-30:soft-and-hard-link.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ¦‚è®º&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;ç¬”è®°&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;çŸ¥è¯†ç‚¹&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#inode"&gt;inode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#hard-link"&gt;åˆ›å»ºhard linkå‘½ä»¤&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#hard-link_1"&gt;hard link ç‰¹æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#inode_1"&gt;æµ‹è¯•æ–‡ä»¶ç³»ç»Ÿ inode è€—å°½ä½†ä»æœ‰ç£ç›˜ç©ºé—´çš„æƒ…æ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#soft-link"&gt;soft link ç‰¹æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#find"&gt;ä½¿ç”¨å‘½ä»¤ find æŸ¥æ‰¾è½¯é“¾æ¥ä¸ç¡¬é“¾æ¥&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="_1"&gt;æ¦‚è®º&lt;/h1&gt;
&lt;p&gt;ç©linuxè‚¯å®šå¾—é‡åˆ°hard linkå’Œsoft(symbolic)linkçš„é—®é¢˜ï¼Œä¹‹å‰çœ‹çš„æ–‡ç« æ„Ÿè§‰ä¸å¤Ÿæ·±å…¥ï¼Œè¿™æ¬¡æ‰¾åˆ°äº†ç¯‡å¥½æ–‡ã€‚
è¯¦æƒ…ç‚¹å‡»&lt;a href="http://www.ibm.com/developerworks/cn/linux/l-cn-hardandsymb-links/index.html"&gt;ä¼ é€é—¨&lt;/a&gt;,ä»¥ä¸‹ä»…ä¸ºå­¦ä¹ ç¬”è®°.&lt;/p&gt;
&lt;h1 id="_2"&gt;ç¬”è®°&lt;/h1&gt;
&lt;h2 id="_3"&gt;çŸ¥è¯†ç‚¹&lt;/h2&gt;
&lt;h3 id="inode"&gt;inode&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“æ–‡ä»¶éƒ½æœ‰æ–‡ä»¶åä¸æ•°æ®ï¼Œè¿™åœ¨ Linux ä¸Šè¢«åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼šç”¨æˆ·æ•°æ® (user data) ä¸å…ƒæ•°æ® (metadata)ã€‚ç”¨æˆ·æ•°æ®ï¼Œå³æ–‡ä»¶æ•°æ®å— (data block)ï¼Œæ•°æ®å—æ˜¯è®°å½•æ–‡ä»¶çœŸå®å†…å®¹çš„åœ°æ–¹ï¼›è€Œå…ƒæ•°æ®åˆ™æ˜¯æ–‡ä»¶çš„é™„åŠ å±æ€§ï¼Œå¦‚æ–‡ä»¶å¤§å°ã€åˆ›å»ºæ—¶é—´ã€æ‰€æœ‰è€…ç­‰ä¿¡æ¯ã€‚åœ¨ Linux ä¸­ï¼Œå…ƒæ•°æ®ä¸­çš„ inode å·ï¼ˆinode æ˜¯æ–‡ä»¶å…ƒæ•°æ®çš„ä¸€éƒ¨åˆ†ä½†å…¶å¹¶ä¸åŒ…å«æ–‡ä»¶åï¼Œinode å·å³ç´¢å¼•èŠ‚ç‚¹å·ï¼‰æ‰æ˜¯æ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†è€Œéæ–‡ä»¶åã€‚æ–‡ä»¶åä»…æ˜¯ä¸ºäº†æ–¹ä¾¿äººä»¬çš„è®°å¿†å’Œä½¿ç”¨ï¼Œç³»ç»Ÿæˆ–ç¨‹åºé€šè¿‡ inode å·å¯»æ‰¾æ­£ç¡®çš„æ–‡ä»¶æ•°æ®å—ã€‚
&lt;img alt="é€šè¿‡æ–‡ä»¶åæ‰“å¼€æ–‡ä»¶" src="/images/sysops/find-file-by-filename.jpg" /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# stat /home/harris/source/glibc-2.16.0.tar.xz &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;File: /home/harris/source/glibc-2.16.0.tar.xz&lt;/span&gt;
&lt;span class="code-line"&gt;Size: &lt;span class="m"&gt;9990512&lt;/span&gt;      Blocks: &lt;span class="m"&gt;19520&lt;/span&gt;      IO Block: &lt;span class="m"&gt;4096&lt;/span&gt;   regular file &lt;/span&gt;
&lt;span class="code-line"&gt;    Device: 807h/2055d      Inode: &lt;span class="m"&gt;2485677&lt;/span&gt;     Links: &lt;span class="m"&gt;1&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;Access: &lt;span class="o"&gt;(&lt;/span&gt;0600/-rw-------&lt;span class="o"&gt;)&lt;/span&gt;  Uid: &lt;span class="o"&gt;(&lt;/span&gt; 1000/  harris&lt;span class="o"&gt;)&lt;/span&gt;   Gid: &lt;span class="o"&gt;(&lt;/span&gt; 1000/  harris&lt;span class="o"&gt;)&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    ... &lt;/span&gt;
&lt;span class="code-line"&gt;    ... &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# mv /home/harris/source/glibc-2.16.0.tar.xz /home/harris/Desktop/glibc.tar.xz &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# ls -i -F /home/harris/Desktop/glibc.tar.xz &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="m"&gt;2485677&lt;/span&gt; /home/harris/Desktop/glibc.tar.xz &lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="hard-link"&gt;åˆ›å»ºhard linkå‘½ä»¤&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;link oldfile newfile &lt;/span&gt;
&lt;span class="code-line"&gt;ln oldfile newfile&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="hard-link_1"&gt;hard link ç‰¹æ€§&lt;/h3&gt;
&lt;p&gt;hard link æ˜¯æœ‰ç€ç›¸åŒincodeçš„ä¸åŒåæ–‡ä»¶
+ æ–‡ä»¶æœ‰ç›¸åŒçš„incodeå’Œdata blockï¼›
+ åªèƒ½å¯¹å·²ç»å­˜åœ¨çš„æ–‡ä»¶åˆ›å»ºï¼›
+ ä¸èƒ½äº¤å‰æ–‡ä»¶ç³»ç»Ÿ
+ ä¸èƒ½å¯¹ç›®å½•åˆ›å»ºï¼Œä»…å¯å¯¹æ–‡ä»¶
+ åˆ é™¤ä¸€ä¸ªhard linkæ–‡ä»¶ä¸å½±å“å…¶ä»–ç›¸åŒincodeå·æ–‡ä»¶&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# ls -li &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;total &lt;span class="m"&gt;0&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;// åªèƒ½å¯¹å·²å­˜åœ¨çš„æ–‡ä»¶åˆ›å»ºç¡¬è¿æ¥&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# link old.file hard.link &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;link: cannot create link &lt;span class="s1"&gt;&amp;#39;hard.link&amp;#39;&lt;/span&gt; to &lt;span class="s1"&gt;&amp;#39;old.file&amp;#39;&lt;/span&gt;: No such file or directory &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# echo &amp;quot;This is an original file&amp;quot; &amp;gt; old.file &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# cat old.file &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;This is an original file &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# stat old.file &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;File: &lt;span class="s1"&gt;&amp;#39;old.file&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Size: &lt;span class="m"&gt;25&lt;/span&gt;           Blocks: &lt;span class="m"&gt;8&lt;/span&gt;          IO Block: &lt;span class="m"&gt;4096&lt;/span&gt;   regular file &lt;/span&gt;
&lt;span class="code-line"&gt;    Device: 807h/2055d      Inode: &lt;span class="m"&gt;660650&lt;/span&gt;      Links: &lt;span class="m"&gt;2&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;Access: &lt;span class="o"&gt;(&lt;/span&gt;0644/-rw-r--r--&lt;span class="o"&gt;)&lt;/span&gt;  Uid: &lt;span class="o"&gt;(&lt;/span&gt;    0/    root&lt;span class="o"&gt;)&lt;/span&gt;   Gid: &lt;span class="o"&gt;(&lt;/span&gt;    0/    root&lt;span class="o"&gt;)&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    ... &lt;/span&gt;
&lt;span class="code-line"&gt;// æ–‡ä»¶æœ‰ç›¸åŒçš„ inode å·ä»¥åŠ data block &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# link old.file hard.link | ls -li &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    total &lt;span class="m"&gt;8&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="m"&gt;660650&lt;/span&gt; -rw-r--r-- &lt;span class="m"&gt;2&lt;/span&gt; root root &lt;span class="m"&gt;25&lt;/span&gt; Sep  &lt;span class="m"&gt;1&lt;/span&gt; 17:44 hard.link &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="m"&gt;660650&lt;/span&gt; -rw-r--r-- &lt;span class="m"&gt;2&lt;/span&gt; root root &lt;span class="m"&gt;25&lt;/span&gt; Sep  &lt;span class="m"&gt;1&lt;/span&gt; 17:44 old.file &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;// ä¸èƒ½äº¤å‰æ–‡ä»¶ç³»ç»Ÿ&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# ln /dev/input/event5 /root/bfile.txt &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    ln: failed to create hard link &lt;span class="s1"&gt;&amp;#39;/root/bfile.txt&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; &lt;span class="s1"&gt;&amp;#39;/dev/input/event5&amp;#39;&lt;/span&gt;: &lt;/span&gt;
&lt;span class="code-line"&gt;    Invalid cross-device link &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# df -i --print-type &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    Filesystem     Type       Inodes  IUsed    IFree IUse% Mounted on &lt;/span&gt;
&lt;span class="code-line"&gt;    /dev/sda7      ext4      &lt;span class="m"&gt;3147760&lt;/span&gt; &lt;span class="m"&gt;283483&lt;/span&gt;  &lt;span class="m"&gt;2864277&lt;/span&gt;   10% / &lt;/span&gt;
&lt;span class="code-line"&gt;    udev           devtmpfs   &lt;span class="m"&gt;496088&lt;/span&gt;    &lt;span class="m"&gt;553&lt;/span&gt;   &lt;span class="m"&gt;495535&lt;/span&gt;    1% /dev &lt;/span&gt;
&lt;span class="code-line"&gt;    tmpfs          tmpfs      &lt;span class="m"&gt;499006&lt;/span&gt;    &lt;span class="m"&gt;491&lt;/span&gt;   &lt;span class="m"&gt;498515&lt;/span&gt;    1% /run &lt;/span&gt;
&lt;span class="code-line"&gt;    none           tmpfs      &lt;span class="m"&gt;499006&lt;/span&gt;      &lt;span class="m"&gt;3&lt;/span&gt;   &lt;span class="m"&gt;499003&lt;/span&gt;    1% /run/lock &lt;/span&gt;
&lt;span class="code-line"&gt;    none           tmpfs      &lt;span class="m"&gt;499006&lt;/span&gt;     &lt;span class="m"&gt;15&lt;/span&gt;   &lt;span class="m"&gt;498991&lt;/span&gt;    1% /run/shm &lt;/span&gt;
&lt;span class="code-line"&gt;    /dev/sda6      fuseblk  &lt;span class="m"&gt;74383900&lt;/span&gt;   &lt;span class="m"&gt;4786&lt;/span&gt; &lt;span class="m"&gt;74379114&lt;/span&gt;    1% /media/DiskE &lt;/span&gt;
&lt;span class="code-line"&gt;    /dev/sda8      fuseblk  &lt;span class="m"&gt;29524592&lt;/span&gt;  &lt;span class="m"&gt;19939&lt;/span&gt; &lt;span class="m"&gt;29504653&lt;/span&gt;    1% /media/DiskF &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;// ä¸èƒ½å¯¹ç›®å½•è¿›è¡Œåˆ›å»ºç¡¬è¿æ¥&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# mkdir -p old.dir/test &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# ln old.dir/ hardlink.dir &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    ln: &lt;span class="s1"&gt;&amp;#39;old.dir/&amp;#39;&lt;/span&gt;: hard link not allowed &lt;span class="k"&gt;for&lt;/span&gt; directory &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# ls -iF &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="m"&gt;660650&lt;/span&gt; hard.link  &lt;span class="m"&gt;657948&lt;/span&gt; old.dir/  &lt;span class="m"&gt;660650&lt;/span&gt; old.file&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="inode_1"&gt;æµ‹è¯•æ–‡ä»¶ç³»ç»Ÿ inode è€—å°½ä½†ä»æœ‰ç£ç›˜ç©ºé—´çš„æƒ…æ™¯&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# dd if=/dev/zero of=mo.img bs=5120k count=1 &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# ls -lh mo.img &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;-rw-r--r-- &lt;span class="m"&gt;1&lt;/span&gt; root root 5.0M Sep  &lt;span class="m"&gt;1&lt;/span&gt; 17:54 mo.img &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# mkfs -t ext4  -F ./mo.img &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;... &lt;/span&gt;
&lt;span class="code-line"&gt;    OS type: Linux &lt;/span&gt;
&lt;span class="code-line"&gt;    Block &lt;span class="nv"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;log&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0&lt;span class="o"&gt;)&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;Fragment &lt;span class="nv"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;log&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0&lt;span class="o"&gt;)&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;Stride&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt; blocks, Stripe &lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt; blocks &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="m"&gt;1280&lt;/span&gt; inodes, &lt;span class="m"&gt;5120&lt;/span&gt; blocks &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="m"&gt;256&lt;/span&gt; blocks &lt;span class="o"&gt;(&lt;/span&gt;5.00%&lt;span class="o"&gt;)&lt;/span&gt; reserved &lt;span class="k"&gt;for&lt;/span&gt; the super user &lt;/span&gt;
&lt;span class="code-line"&gt;    ... &lt;/span&gt;
&lt;span class="code-line"&gt;    ... &lt;/span&gt;
&lt;span class="code-line"&gt;    Writing superblocks and filesystem accounting information: &lt;span class="k"&gt;done&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# mount -o loop ./mo.img /mnt &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# cat /mnt/inode_test.sh &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#!/bin/bash &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 1&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; i++&lt;span class="o"&gt;))&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt; -eq &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt;  &lt;span class="s2"&gt;&amp;quot;This is file_&lt;/span&gt;$&lt;span class="s2"&gt;i&amp;quot;&lt;/span&gt; &amp;gt; file_$i &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;else&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;fi&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;done&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# ./inode_test.sh &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    ./inode_test.sh: line 6: file_1269: No space left on device &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# df -iT /mnt/; du -sh /mnt/ &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    Filesystem     Type Inodes IUsed IFree IUse% Mounted on &lt;/span&gt;
&lt;span class="code-line"&gt;    /dev/loop0     ext4   &lt;span class="m"&gt;1280&lt;/span&gt;  &lt;span class="m"&gt;1280&lt;/span&gt;     &lt;span class="m"&gt;0&lt;/span&gt;  100% /mnt &lt;/span&gt;
&lt;span class="code-line"&gt;    1.3M    /mnt/ &lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="soft-link"&gt;soft link ç‰¹æ€§&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;soft linkæœ‰è‡ªå·±çš„æ–‡ä»¶å±æ€§åŠæƒé™&lt;/li&gt;
&lt;li&gt;å¯ä»¥å¯¹ä¸å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•åˆ›å»ºè½¯é“¾æ¥&lt;/li&gt;
&lt;li&gt;å¯äº¤å‰æ–‡ä»¶ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;å¯ä»¥å¯¹æ–‡ä»¶æˆ–ç›®å½•åˆ›å»º&lt;/li&gt;
&lt;li&gt;åˆ é™¤soft link ä¸å½±å“åŸæ–‡ä»¶ï¼Œåˆ é™¤åŸæ–‡ä»¶soft linkä¼šå˜æˆæ­»é“¾&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="é“¾æ¥è®¿é—®" src="/images/sysops/visit-soft-link.jpg" title="é“¾æ¥è®¿é—®" /&gt;&lt;/p&gt;
&lt;h3 id="find"&gt;ä½¿ç”¨å‘½ä»¤ find æŸ¥æ‰¾è½¯é“¾æ¥ä¸ç¡¬é“¾æ¥&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;// æŸ¥æ‰¾åœ¨è·¯å¾„ /home ä¸‹çš„æ–‡ä»¶ data.txt çš„è½¯é“¾æ¥&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# find /home -lname data.txt &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/home/harris/debug/test2/a &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;// æŸ¥çœ‹è·¯å¾„ /home æœ‰ç›¸åŒ inode çš„æ‰€æœ‰ç¡¬é“¾æ¥&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# find /home -samefile /home/harris/debug/test3/old.file &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/home/harris/debug/test3/hard.link &lt;/span&gt;
&lt;span class="code-line"&gt;/home/harris/debug/test3/old.file &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# find /home -inum 660650 &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/home/harris/debug/test3/hard.link &lt;/span&gt;
&lt;span class="code-line"&gt;/home/harris/debug/test3/old.file &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;// åˆ—å‡ºè·¯å¾„ /home/harris/debug/ ä¸‹çš„æ‰€æœ‰è½¯é“¾æ¥æ–‡ä»¶&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# find /home/harris/debug/ -type l -ls &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;656662&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; lrwxrwxrwx &lt;span class="m"&gt;1&lt;/span&gt; harris harris &lt;span class="m"&gt;1&lt;/span&gt; Sep &lt;span class="m"&gt;1&lt;/span&gt; 14:37 /home/harris/debug/test2/b -&amp;gt; a&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;656627&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; lrwxrwxrwx &lt;span class="m"&gt;1&lt;/span&gt; harris harris &lt;span class="m"&gt;8&lt;/span&gt; Sep &lt;span class="m"&gt;1&lt;/span&gt; 14:37 /home/harris/debug/test2/a -&amp;gt; &lt;/span&gt;
&lt;span class="code-line"&gt;data.txt&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;789467&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; lrwxrwxrwx &lt;span class="m"&gt;1&lt;/span&gt; root root &lt;span class="m"&gt;8&lt;/span&gt; Sep &lt;span class="m"&gt;1&lt;/span&gt; 18:00 /home/harris/debug/test/soft.link -&amp;gt; old.file &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;789496&lt;/span&gt;    &lt;span class="m"&gt;0&lt;/span&gt; lrwxrwxrwx   &lt;span class="m"&gt;1&lt;/span&gt; root     root            &lt;span class="m"&gt;7&lt;/span&gt; Sep  &lt;span class="m"&gt;1&lt;/span&gt; 18:01 &lt;/span&gt;
&lt;span class="code-line"&gt;/home/harris/debug/test/soft.link.dir -&amp;gt; old.dir&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_4"&gt;é—®é¢˜&lt;/h2&gt;
&lt;p&gt;Q1. å¯¹äºä½œè€…æåˆ°çš„â€œè‹¥ç³»ç»Ÿå…è®¸å¯¹ç›®å½•åˆ›å»ºç¡¬é“¾æ¥ï¼Œåˆ™ä¼šäº§ç”Ÿç›®å½•ç¯ã€‚â€ è¡¨ç¤ºæ€€ç–‘ï¼Œ
å¦‚æœè¿™æ˜¯ä¸èƒ½å¯¹ç›®å½•åˆ›å»ºç¡¬é“¾æ¥çš„åŸå› ï¼Œé‚£ä¹ˆå¯¹ç›®å½•åˆ›å»ºè½¯é“¾æ¥ä¹Ÿä¼šå­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼ŒæŒ‰ä½ çš„æ„æ€ï¼Œè¿™ç§ç¯åªä¼šåœ¨å¯¹ç›®å½•åˆ›å»ºç¡¬é“¾æ¥(å‡è®¾å¯ä»¥)çš„æ—¶å€™å‡ºç°&lt;/p&gt;</summary><category term="system"></category><category term="hard-link"></category><category term="soft-link"></category><category term="symbolic-link"></category></entry><entry><title>[TED] Embrace The Near Win</title><link href="http://henrychenv.github.io/ted-embrace-the-near-win.html" rel="alternate"></link><updated>2016-01-30T02:00:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-01-20:ted-embrace-the-near-win.html</id><summary type="html">&lt;p&gt;I feel so fortunate that my first job was working at the Museum of Modern Art on a retrospective of painter Elizabeth Murray. I learned so much from her. After the curator Robert Storr selected all the paintings from her lifetime body of work, I loved looking at the paintings from the 1970s. There were some motifs and elements that would come up again later in her life. I remember asking her what she thought of those early works. If you didn&amp;rsquo;t know they were hers, you might not have been able to guess.She told me that a few didn&amp;rsquo;t quite meet her own mark for what she wanted them to be. One of the works, in fact, so didn&amp;rsquo;t meet her mark, she had set it out in the trash in her studio, and her neighbor had taken it because she saw its value.&lt;/p&gt;
&lt;p&gt;In that moment, my view of success and creativity changed. I realized that success is a moment, but what we&amp;rsquo;re always celebrating is creativity and mastery. But this is the thing: What gets us to convert success into mastery? This is a question I&amp;rsquo;ve long asked myself. I think it comes when we start to valuethe gift of a near win.&lt;/p&gt;
&lt;p&gt;I started to understand this when I went on one cold May day to watch a set of varsity archers, all women as fate would have it, at the northern tip of Manhattan at Columbia&amp;rsquo;s Baker Athletics Complex. I wanted to see what&amp;rsquo;s called archer&amp;rsquo;s paradox, the idea that in order to actually hit your target, you have to aim at something slightly skew from it. I stood and watched as the coach drove up these women in this gray van, and they exited with this kind of relaxed focus. One held a half-eaten ice cream cone in one handand arrows in the left with yellow fletching. And they passed me and smiled, but they sized me up as theymade their way to the turf, and spoke to each other not with words but with numbers, degrees, I thought,positions for how they might plan to hit their target. I stood behind one archer as her coach stood in between us to maybe assess who might need support, and watched her, and I didn&amp;rsquo;t understand how even one was going to hit the ten ring. The ten ring from the standard 75-yard distance, it looks as small as a matchstick tip held out at arm&amp;rsquo;s length. And this is while holding 50 pounds of draw weight on each shot. She first hit a seven, I remember, and then a nine, and then two tens, and then the next arrow didn&amp;rsquo;t even hit the target. And I saw that gave her more tenacity, and she went after it again and again. For three hours this went on. At the end of the practice, one of the archers was so taxed that she lied out on the ground just star-fished, her head looking up at the sky, trying to find what T.S. Eliot might call that still point of the turning world.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s so rare in American culture, there&amp;rsquo;s so little that&amp;rsquo;s vocational about it anymore, to look at what doggedness looks like with this level of exactitude, what it means to align your body posture for three hours in order to hit a target, pursuing a kind of excellence in obscurity. But I stayed because I realized I was witnessing what&amp;rsquo;s so rare to glimpse, that difference between success and mastery.&lt;/p&gt;
&lt;p&gt;So success is hitting that ten ring, but mastery is knowing that it means nothing if you can&amp;rsquo;t do it again and again. Mastery is not just the same as excellence, though. It&amp;rsquo;s not the same as success, which I see as an event, a moment in time, and a label that the world confers upon you. Mastery is not a commitment to a goal but to a constant pursuit. What gets us to do this, what get us to forward thrust more is to value the near win. How many times have we designated something a classic, a masterpiece even, while its creator considers it hopelessly unfinished, riddled with difficulties and flaws, in other words, a near win?Elizabeth Murray surprised me with her admission about her earlier paintings. Painter Paul CÃ©zanne so often thought his works were incomplete that he would deliberately leave them aside with the intention of picking them back up again, but at the end of his life, the result was that he had only signed 10 percent of his paintings. His favorite novel was &amp;ldquo;The [Unknown] Masterpiece&amp;rdquo; by HonorÃ© de Balzac, and he felt the protagonist was the painter himself. Franz Kafka saw incompletion when others would find only works to praise, so much so that he wanted all of his diaries, manuscripts, letters and even sketches burned upon his death. His friend refused to honor the request, and because of that, we now have all the works we now do by Kafka: &amp;ldquo;America,&amp;rdquo; &amp;ldquo;The Trial&amp;rdquo; and &amp;ldquo;The Castle,&amp;rdquo; a work so incomplete it even stops mid-sentence.&lt;/p&gt;
&lt;p&gt;The pursuit of mastery, in other words, is an ever-onward almost. &amp;ldquo;Lord, grant that I desire more than I can accomplish,&amp;rdquo; Michelangelo implored, as if to that Old Testament God on the Sistine Chapel, and he himself was that Adam with his finger outstretched and not quite touching that God&amp;rsquo;s hand.&lt;/p&gt;
&lt;p&gt;Mastery is in the reaching, not the arriving. It&amp;rsquo;s in constantly wanting to close that gap between where you are and where you want to be. Mastery is about sacrificing for your craft and not for the sake of crafting your career. How many inventors and untold entrepreneurs live out this phenomenon? We see it even in the life of the indomitable Arctic explorer Ben Saunders, who tells me that his triumphs are not merely the result of a grand achievement, but of the propulsion of a lineage of near wins.&lt;/p&gt;
&lt;p&gt;We thrive when we stay at our own leading edge. It&amp;rsquo;s a wisdom understood by Duke Ellington, who said that his favorite song out of his repertoire was always the next one, always the one he had yet to compose. Part of the reason that the near win is inbuilt to mastery is because the greater our proficiency,the more clearly we might see that we don&amp;rsquo;t know all that we thought we did. It&amp;rsquo;s called the Dunningâ€“Kruger effect. The Paris Review got it out of James Baldwin when they asked him, &amp;ldquo;What do you think increases with knowledge?&amp;rdquo; and he said, &amp;ldquo;You learn how little you know.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Success motivates us, but a near win can propel us in an ongoing quest. One of the most vivid examples of this comes when we look at the difference between Olympic silver medalists and bronze medalists after a competition. Thomas Gilovich and his team from Cornell studied this difference and found that the frustration silver medalists feel compared to bronze, who are typically a bit more happy to have just not received fourth place and not medaled at all, gives silver medalists a focus on follow-up competition. We see it even in the gambling industry that once picked up on this phenomenon of the near win and created these scratch-off tickets that had a higher than average rate of near wins and so compelled people to buy more tickets that they were called heart-stoppers, and were set on a gambling industry set of abuses in Britain in the 1970s. The reason the near win has a propulsion is because it changes our view of the landscape and puts our goals, which we tend to put at a distance, into more proximate vicinity to where we stand. If I ask you to envision what a great day looks like next week, you might describe it in more general terms. But if I ask you to describe a great day at TED tomorrow, you might describe it with granular, practical clarity. And this is what a near win does. It gets us to focus on what, right now, we plan to do to address that mountain in our sights. It&amp;rsquo;s Jackie Joyner-Kersee, who in 1984 missed taking the gold in the heptathlon by one third of a second, and her husband predicted that would give her the tenacity she needed in follow-up competition. In 1988, she won the gold in the heptathlon and set a record of 7,291 points, a score that no athlete has come very close to since.&lt;/p&gt;
&lt;p&gt;We thrive not when we&amp;rsquo;ve done it all, but when we still have more to do. I stand here thinking and wondering about all the different ways that we might even manufacture a near win in this room, how your lives might play this out, because I think on some gut level we do know this. We know that we thrive when we stay at our own leading edge, and it&amp;rsquo;s why the deliberate incomplete is inbuilt into creation myths. In Navajo culture, some craftsmen and women would deliberately put an imperfection in textiles and ceramics. It&amp;rsquo;s what&amp;rsquo;s called a spirit line, a deliberate flaw in the pattern to give the weaver or maker a way out, but also a reason to continue making work. Masters are not experts because they take a subject to its conceptual end. They&amp;rsquo;re masters because they realize that there isn&amp;rsquo;t one.&lt;/p&gt;
&lt;p&gt;Now it occurred to me, as I thought about this, why the archery coach told me at the end of that practice,out of earshot of his archers, that he and his colleagues never feel they can do enough for their team,never feel there are enough visualization techniques and posture drills to help them overcome those constant near wins. It didn&amp;rsquo;t sound like a complaint, exactly, but just a way to let me know, a kind of tender admission, to remind me that he knew he was giving himself over to a voracious, unfinished paththat always required more.&lt;/p&gt;
&lt;p&gt;We build out of the unfinished idea, even if that idea is our former self. This is the dynamic of mastery.Coming close to what you thought you wanted can help you attain more than you ever dreamed you could. It&amp;rsquo;s what I have to imagine Elizabeth Murray was thinking when I saw her smiling at those early paintings one day in the galleries. Even if we created utopias, I believe we would still have the incomplete. Completion is a goal, but we hope it is never the end.&lt;/p&gt;
&lt;p&gt;Thank you.&lt;/p&gt;</summary><category term="TED"></category><category term="English"></category></entry><entry><title>ä¸€æœˆçš„æ··æ²Œ</title><link href="http://henrychenv.github.io/january-chaos.html" rel="alternate"></link><updated>2015-01-02T12:12:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2016-01-02:january-chaos.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;æœ€è¿‘æœ‰ç‚¹çƒ¦ï¼Œçƒ¦çš„åŸå› æ˜¯æˆ‘å¤„åœ¨äººç±»çš„ä¸€ä¸ªå¾ˆçƒ¦çš„è¿›åŒ–é˜¶æ®µï¼Œä¸çŸ¥é“ç®—ä¸ç®—è¿›åŒ–äº†ï¼Œäººç±»æœ¬èƒ½çš„è¿›åŒ–é€Ÿåº¦å®Œå…¨èµ¶ä¸ä¸Šäººç±»ç¤¾ä¼šçš„è¿›åŒ–é€Ÿåº¦ï¼Œäººç±»ä¸ºäº†åœ¨ç¤¾ä¼šä¸­ç”Ÿå­˜ï¼Œå¿…é¡»æŒ‰ç…§ä¸€äº›äººä¸ºè§„å®šè¿›è¡Œæ´»åŠ¨ï¼Œè€Œè¿™äº›è§„å®šå¾€å¾€å’Œæœ¬èƒ½æƒ³èƒŒï¼Œç°åœ¨çš„æœ¬èƒ½å·²ç»å®Œå…¨æ— æ³•é€‚åº”å½“ä»Šç¤¾ä¼šã€‚è¯»ã€Šè‡ªç§çš„åŸºå› ã€‹æ„Ÿè§‰äººå°±æ˜¯ä¸ªæ— æ„ä¹‰çš„å­˜åœ¨ï¼Œå’Œå…¶ä»–ç”Ÿç‰©ä¸€æ ·éƒ½æ˜¯ä¸ºäº†ç”Ÿå­˜ï¼Œæ‰€åšçš„ä¸€åˆ‡æ— ééƒ½æ˜¯è®©åŸºå› å»¶ç»­ä¸‹å»ï¼Œæ‰€è°“çš„ä¸ºäº†ç§æ—çš„ç”Ÿå­˜å¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ„æ€å§ã€‚ç§æ—ä¸­å­˜åœ¨å˜å¼‚ï¼Œå˜å¼‚æ˜¯å¿…é¡»çš„ï¼Œè™½ç„¶åœ¨ç¯å¢ƒä¸å˜çš„æƒ…å†µä¸‹ï¼Œå˜å¼‚ç­‰äºè‡ªæ€ï¼Œç„¶è€Œè¿™ä¸ªæ•°é‡å¯¹äºæ•´ä¸ªç§æ—æ¥è¯´ä¸ç®—ä»€ä¹ˆï¼Œæ˜¯ç§æ—ç»™è‡ªå·±çš„é£æŠ•ï¼Œä¸€æ—¦ä¸­å¥–ï¼Œå°±é å˜å¼‚çš„é‚£ä¸€å°æ’®ç”Ÿå­˜ç»§ç»­è®©åŸºå› ç”Ÿå­˜ä¸‹å»äº†ã€‚äººä½“çš„æ•´ä¸ªè®¾è®¡éƒ½æ˜¯ä¸ºäº†æ´»ç€ï¼Œæ´»ç€æ—¶ä¸ºäº†ä¼ æ’­åŸºå› ï¼Œä¼ æ’­çš„æ–¹å¼ç•¥ã€‚æœ‰æ®µæ—¶é—´è¿˜æ˜¯æŒºä½©æœè‡ªæ€çš„äººçš„ï¼Œä¹Ÿå¾ˆææƒ§æŠ‘éƒç—‡ï¼Œå› ä¸ºè¿™äº›äººç«Ÿç„¶çªç ´äººç±»çš„æœ€å¤§æœ¬èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ›¾ç»å¯»æ‰¾è¿‡äººä¸ºä»€ä¹ˆä¼šå­˜åœ¨ï¼Œæœ€åä¸€ç«™æ‰¾åˆ°äº†åŸºå› å¤´ä¸Šï¼Œå‘ç°äººå‡ºç°çš„åŸå› å°±æ˜¯é‚£ä¸€å°æ®µå¯ä»¥è‡ªæˆ‘å¤åˆ¶çš„åŸºå› ï¼Œåœ¨ä¿ç•™è¿™æ®µåŸºå› çš„åŸºç¡€ä¸Šä¸æ–­å®Œå–„è‡ªå·±ï¼Œå®Œå–„çš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†ä¿æŠ¤è¿™æ®µåŸºå› ã€‚å…¶å®ä¹Ÿç®—ä¸ä¸Šæ˜¯ä¿æŠ¤ï¼Œå®é™…ä¸Šæ—¶å˜å¼‚ï¼Œå«æœ‰è¿™æ®µåŸºå› åºåˆ—çš„åŸºå› çš„ä¸€éƒ¨åˆ†å˜å¼‚äº†ï¼Œç„¶åç»è¿‡ç¯å¢ƒçš„é€‰æ‹©ï¼Œå‘ç°æŸç§å˜å¼‚å¯ä»¥ä½¿è¿™æ®µåŸºå› å¤åˆ¶å¾—æ›´å¤šï¼Œå­˜åœ¨çš„åŸå› æ˜¯ä½ å­˜åœ¨äº†ï¼Œä¸€åˆ‡éƒ½æ˜¯å·§åˆï¼Œå˜å¼‚åŠ é€‰æ‹©çš„ç»“æœï¼Œä¸€ä¸ªä¸æ–­è¯•é”™çš„è¿‡ç¨‹ã€‚æ®‹é…·å—ï¼Ÿæ®‹é…·æ˜¯ä¸€ç§æƒ…æ„Ÿï¼Œè¿™ä¸ªè¿‡ç¨‹æ²¡æœ‰ä»»ä½•æƒ…æ„Ÿã€‚æ€»çš„æ¥è¯´ï¼Œå­˜åœ¨çš„åŸå› æ˜¯ä½ å­˜åœ¨äº†ã€‚å½“æ—¶è§‰å¾—è¿™ä¸ªè§£é‡Šå¾ˆæ— æ³•æ¥å—åˆæ— æ³•åé©³ï¼Œåˆšæ¥è§¦æ—¶æˆ‘æ›´å®æ„¿ç›¸ä¿¡äººç±»ä»¥åŠäººç±»è®¤è¯†åˆ°çš„å®‡å®™åªä¸è¿‡æ˜¯å¤–æ˜Ÿäººæ­å»ºçš„å®éªŒç¯å¢ƒï¼Œäººç±»ç”šè‡³åªæ˜¯ä¸€å †ä¸€ä¸ªdeleteå°±èƒ½åˆ é™¤çš„æ•°æ®ï¼Œä¸€å †çº¯æ•°æ®ï¼Œä»€ä¹ˆä¹Ÿä¸æ˜¯ï¼Œè¿å°ç™½é¼ éƒ½ç®—ä¸ä¸Šã€‚ä½ ä»¥ä¸ºè‡ªå·±æ˜¯æ¸¸æˆä¸­çš„è‹±é›„ï¼Œå®é™…ä¸Šä½ ä»¥ä¸ºçš„è‹±é›„åªæ˜¯æ´»è·ƒåœ¨å†…å­˜æˆ–è€…æ­»åœ¨ç¡¬ç›˜ä¸Šçš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šäººä¸ä¼šå»æƒ³æ´»ç€çš„æ„ä¹‰ï¼Œä¹Ÿæ²¡å¿…è¦å»æƒ³ï¼Œæƒ³å‡ºæ¥äº†åˆèƒ½æ€æ ·å‘¢ï¼Ÿæ›´ä½•å†µä»åŸºå› çš„è§’åº¦çœ‹ï¼Œäººç±»æœ€å¤§çš„æ„ä¹‰å°±æ˜¯ä¸ºäº†åŸºå› çš„å»¶ç»­è€Œæ´»ç€ï¼Œè€Œè¿™ä¸ªæ„ä¹‰æ˜¯åŸºå› èµ‹äºˆçš„ï¼ŒåŸºå› åˆ›é€ ä½ æ˜¯ä¸ºäº†è‡ªå·±çš„ç”Ÿå­˜ã€‚å¦‚æœä½ å¦ˆå’Œä½ è€å©†åŒæ—¶æ‰æ°´é‡Œï¼Œä½ è¯¥å…ˆæ•‘è°ï¼ŸåŸºå› å‘Šè¯‰ä½ ï¼Œå¦‚æœä½ ä¸ä¼šæ¸¸æ³³å°±å½“åˆ«è‡ªå·±ä¸‹æ°´ï¼Œè€å©†èƒ½ç”Ÿè‚²å°±æ•‘ä½ è€å©†ï¼Œå¦åˆ™æ•‘ä½ å¦ˆã€‚å› ä¸ºä¸èƒ½ç”Ÿè‚²çš„è€å©†å¹¶ä¸èƒ½å¸®ä½ å®ŒæˆåŸºå› äº¤ç»™ä½ çš„ä»»åŠ¡ï¼Œæ•‘äº†ä½ å¦ˆï¼Œä½ å¦ˆå‡ºäºç”Ÿç‰©çš„æœ¬èƒ½ä¼šæœ‰åˆ©äºä½ çš„ç”Ÿå­˜ï¼Œä»è€Œæ›´æœ‰åˆ©äºä½ çš„ä»»åŠ¡ã€‚å…¶å®ä½ ä¼šå‘ç°ï¼Œé™¤äº†è¿™ä¸ªåŸºå› ç»™çš„æ„ä¹‰ï¼Œä½ çš„å­˜åœ¨å¹¶æ²¡æœ‰æ„ä¹‰ï¼Œè‡³å°‘æ‰¾ä¸åˆ°å¯¹äºå•ä¸ªä¸ªä½“çš„æ„ä¹‰ã€‚æ‰€è°“çš„æ¢¦æƒ³ç†æƒ³æœ‰æ„ä¹‰å—ï¼Œä½ å¯ä»¥è¿½æº¯ä¸‹ä¸ºä»€ä¹ˆè‡ªå·±ä¼šæœ‰è¿™æ ·çš„ç†æƒ³æˆ–æ¢¦æƒ³ï¼Œå‘ç°äº†å—ï¼Œä¸æ˜¯ç”Ÿæ¥å°±æœ‰ï¼Œè€Œä¸”éƒ½æ˜¯æœ¬èƒ½çš„ä¼ªè£…ï¼Œä¼ªè£…äº†é‚£ä¹ˆå¤šï¼Œåªæ˜¯ä¸ºäº†åŸºå› çš„å»¶ç»­ã€‚æ‰€ä»¥ç°åœ¨å¾ˆå¤šäººçš„ç†æƒ³éƒ½æ˜¯åšç‚¹ä»€ä¹ˆç„¶åæœ‰é’±ï¼Œæ¢¦æƒ³æ˜¯æ²¡åšä»€ä¹ˆä¹Ÿèƒ½æœ‰é’±ã€‚å¦‚æœäººç±»åœ¨å®ç°æ¢¦æƒ³æˆ–è€…ç†æƒ³åæ²¡æœ‰ç¬¬äºŒä¸ªç†æƒ³æˆ–è€…æ¢¦æƒ³å‡ºç°ï¼Œå®ç°ç†æƒ³æˆ–æ¢¦æƒ³å°†æ˜¯ä¸ªç¾éš¾ï¼Œå› ä¸ºå®ç°åï¼Œä½ å°†ä¼šå‘ç°ç”Ÿå‘½æ— æ„ä¹‰çš„æœ¬è´¨ï¼Œä½ å°†ä¸çŸ¥æ‰€æªï¼Œä¸€å¤´é’»è¿›æœ¬èƒ½çš„æ€€æŠ±ï¼Œç¤¾ä¼šå°†æœ¬èƒ½çš„è¡Œä¸ºå¤§éƒ½å®šä¹‰ä¸ºé¾Œé¾Šçš„ï¼Œè¿æ³•çš„ï¼Œé“å¾·å’Œæ³•å¾‹å°†ä¼šæ¶ˆç­ä½ ï¼Œä½ å°†åœ¨è†¨èƒ€ä¹‹åæ­»äº¡ã€‚&lt;/p&gt;
&lt;p&gt;äººç±»åååˆæœ‰ä¸ªå¤§è„‘ï¼Œæˆ‘æƒ³æœ¬æ¥åŸºå› åˆ›é€ è¿™ä¹ˆä¸ªç²¾å¯†çš„ä¸œè¥¿åªæ˜¯ä¸ºäº†å¢åŠ æˆæ´»ç‡ï¼Œä½†å¤§è„‘è¿‡äºå¼ºå¤§ä¼¼ä¹å·²ç»å¯ä»¥åæŠ—æœ¬èƒ½ï¼Œè¿™ä¾¿æ˜¯ä¸€èµ·çº ç»“çš„æºæ³‰ã€‚ä¸çŸ¥é“äººç±»çš„å¤§è„‘ç®—ä¸ç®—æ˜¯å¯¹æœ¬èƒ½çš„è¡¥æ•‘ï¼Œä½†è¿™è¡¥æ•‘çš„æ–¹å¼è®©äººå¥½çº ç»“ï¼Œå¥½çƒ¦ã€‚åšæœ¬èƒ½è¦æ±‚çš„äº‹æƒ…æ€»æœ‰ç§æ­£åœ¨åšæ­£ç¡®çš„äº‹æƒ…çš„æ„Ÿè§‰ï¼Œè€Œåœ¨åšç†æ™ºè¦æ±‚çš„äº‹æƒ…çš„æ—¶å€™ï¼Œæ€»æœ‰ç§æœ‰äººåœ¨æ—è¾¹è·Ÿä½ è¯´ï¼Œåˆ«è¿™ä¹ˆåšçš„æ„Ÿè§‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¹¦ä¹Ÿè¯»äº†ï¼Œé“ç†æˆ‘éƒ½æ‡‚ï¼Œç„¶è€Œæˆ‘å¹¶ä¸èƒ½åšåˆ°ã€‚&lt;/p&gt;
&lt;p&gt;äººç±»æ€è€ƒçš„æ—¶å€™ï¼Œä¸Šå¸ç¬‘ä¸ç¬‘æˆ‘ä¸å…³å¿ƒï¼Œå¦‚æœåŸºå› ä¼šç¬‘ï¼Œå®ƒä¸€å®šåœ¨ç¬‘ã€‚&lt;/p&gt;</summary><category term="chaos"></category><category term="life"></category><category term="thinking"></category></entry><entry><title>è®ºå›æ­å»ºå…¨è®°å½•</title><link href="http://henrychenv.github.io/note-for-build-website.html" rel="alternate"></link><updated>2016-01-30T01:53:00+08:00</updated><author><name>Henry Chen</name></author><id>tag:henrychenv.github.io,2015-12-28:note-for-build-website.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ¦‚å†µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;æ­å»º&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#centos7"&gt;CentOS7&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;ç³»ç»Ÿå®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;å®‰è£…å¿…éœ€çš„ä¾èµ–åŒ…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;é˜²ç«å¢™&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#mysql"&gt;MySQL&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_6"&gt;å®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;æ–°å»ºç”¨æˆ·&amp;amp;æƒé™ç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;ä¿®æ”¹ç¼–ç é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;è™šæ‹Ÿç¯å¢ƒ&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_10"&gt;å®‰è£…æ­¥éª¤:&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#virtualenvvirtualenvwrapperpip"&gt;å®‰è£…virtualenvå’Œvirtualenvwrapper(æºç æˆ–è€…pip)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_11"&gt;åˆ›å»ºè™šæ‹Ÿç¯å¢ƒç›®å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#bashrc"&gt;å°†é…ç½®åŠ å…¥~/.bashrc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_12"&gt;æµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#uwsgi"&gt;uwsgi&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#pip"&gt;å®‰è£…: æ— è®ºæºç è¿˜æ˜¯pipéƒ½å¾ˆé¡ºåˆ©ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_13"&gt;å•ç‹¬æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_14"&gt;é¡¹ç›®é…ç½®æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_15"&gt;å¯åŠ¨è„šæœ¬&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_16"&gt;å°†è„šæœ¬æ·»åŠ åˆ°ç³»ç»Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_17"&gt;éªŒè¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#nginx"&gt;nginx&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_18"&gt;æºç ç¼–è¯‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_19"&gt;å¯åŠ¨è„šæœ¬&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_20"&gt;æ·»åŠ è„šæœ¬åˆ°ç³»ç»Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_21"&gt;éªŒè¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_22"&gt;ç½‘ç«™é…ç½®&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#nginxconf"&gt;ä¸»é…ç½®æ–‡ä»¶nginx.conf:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vhost"&gt;vhost é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­äº†ä¸ªè®ºå›ç©ã€‚
ä»¥ä¸‹æ–‡å­—æ—¶å†™ç»™è‡ªå·±çœ‹çš„ï¼Œé¦–è¦ç›®çš„æ˜¯è®°å½•ï¼Œå…¶æ¬¡æ‰æ˜¯å¾—ç‘Ÿã€‚ä¼šæœ‰äº›å•°å—¦ï¼Œå› ä¸ºä¸æƒ³å†™é‚£ç§ä»å¤´åˆ°ä½éƒ½å¾ˆé¡ºåˆ©è·Ÿè¯´æ˜ä¹¦ä¼¼çš„å¸–å­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_1"&gt;æ¦‚å†µ&lt;/h2&gt;
&lt;p&gt;åŸºæœ¬æ€è·¯æ˜¯LNMP:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;L: CentiOS7
  ä¸ºä»€ä¹ˆç”¨7ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„åŸå› ï¼Œå–œæ¬¢7è¿™ä¸ªæ•°å­—ï¼ŒCentOS7åˆšå‡ºæ¥çš„æ—¶å€™å°±è£…äº†ä¸ªï¼Œåªæ˜¯å½“æ—¶ç”µè„‘é…ç½®å·®ï¼Œç©å¾—ä¸çˆ½ï¼Œè€¿è€¿äºæ€€ï¼Œè¿™æ¬¡é¡ºä¾¿äº†äº†è¿™ä¸ªç»“ï¼Œå½“ç„¶å‘ä¹Ÿä¼šæœ‰çš„ã€‚ä¸ºä»€ä¹ˆä¸ç”¨ubuntuï¼Œå°±ubuntué»˜è®¤é˜²ç«å¢™å…³é—­ï¼ŒCentOSé»˜è®¤é˜²ç«å¢™æ‰“å¼€è¿™ä¸€ç‚¹å°±è®©æˆ‘ä¸æ‰“ç®—ç”¨ubuntuäº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;N: nginx
  æ²¡è®¤çœŸç¬”è®°å¤šnginxå–apacheï¼ŒåªçŸ¥é“å¤§å®¶ç°åœ¨æ›´åå‘äºç”¨nginxè·‘pythoné¡¹ç›®ï¼Œnginxä¹Ÿæœ‰è™šæ‹Ÿä¸»æœºï¼Œåå‘ä»£ç†çš„ç©æ³•ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šæ­å»ºå¤šä¸ªç½‘ç«™ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;M: MySQL
  è¢«oracleæå»äº†ï¼Œå› ä¸ºæ‹…å¿ƒè¢«é—­æºï¼Œæ‰€ä»¥CentOS7ç”¨äº†ç”±ç¤¾åŒºç»´æŠ¤çš„MySQLçš„ä¸€ä¸ªåˆ†æ”¯ï¼ŒMariaDBï¼Œä½†èµ·èµ·æ¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;P: python
  ç”¨çš„djangoæ¡†æ¶ï¼Œè®ºå›ç›´æ¥ç”¨çš„å¼€æºè½¯ä»¶misago&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_2"&gt;æ­å»º&lt;/h2&gt;
&lt;h3 id="centos7"&gt;CentOS7&lt;/h3&gt;
&lt;h4 id="_3"&gt;&lt;strong&gt;ç³»ç»Ÿå®‰è£…&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;ç›´æ¥ç”¨çš„é˜¿é‡Œçš„ECSï¼Œåˆ›å»ºè™šæ‹Ÿæœºçš„æ—¶å€™é€‰çš„CentOS7çš„é•œåƒã€‚ æˆ‘è§‰å¾—ç”¨rootç”¨æˆ·ç›´æ¥æ­å»ºç¯å¢ƒä¸å¥½ï¼Œäºæ˜¯åˆ›å»ºäº†ä¸€ä¸ªç®¡ç†å‘˜è´¦å·ï¼Œä»¥æˆ‘è‡ªå·±å‘½åï¼Œå‘½ä»¤:&lt;code&gt;adduser henry -c "Henry Chen"&lt;/code&gt;ç”¨æˆ·henryåœ¨ç”¨sudoçš„æ—¶å€™ä¸éœ€è¦è¾“å…¥å¯†ç ï¼Œå‘½ä»¤:&lt;code&gt;visudo&lt;/code&gt;ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰¾åˆ°è¿™ä¸¤è¡Œ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## Same thing without a password&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;%wheel  &lt;span class="nv"&gt;ALL&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;ALL&lt;span class="o"&gt;)&lt;/span&gt;       NOPASSWD: ALL&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å»æ‰ç¬¬äºŒè¡Œå‰é¢çš„æ³¨é‡Š(è¿™é‡Œå·²ç»å»æ‰äº†),è®°ä¸‹wheelè¿™ä¸ªç»„ï¼Œåªè¦åœ¨è¿™ä¸ªç»„é‡Œé¢çš„ç”¨æˆ·ï¼Œä½¿ç”¨sudoéƒ½ä¸ç”¨è¾“å…¥å¯†ç ã€‚
å°†henryåŠ å…¥åˆ°è¿™ä¸ªç»„ä¸­:&lt;code&gt;usermod -a -G henry wheel&lt;/code&gt;ã€‚
å®‰è£…å¿…è¦çš„è½¯ä»¶: git, etc&lt;/p&gt;
&lt;h4 id="_4"&gt;&lt;strong&gt;å®‰è£…å¿…éœ€çš„ä¾èµ–åŒ…&lt;/strong&gt;&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;sudo yum install libjpeg-turbo-devel zlib-devel python-devel libfreehand-devel python-imgcreate&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="_5"&gt;&lt;strong&gt;é˜²ç«å¢™&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªé•œåƒç”¨èµ·æ¥è·Ÿæœ¬åœ°ä¸ä¸€æ ·ï¼Œæœ¬åœ°å®‰è£…çš„CentOS7ç§ï¼Œé˜²ç«å¢™ä¼šé˜»æ­¢å‡ ä¹å…¨éƒ¨ç«¯å£ï¼Œè€ŒECSä¸­åªè¦ä½ ç”¨åˆ°äº†å“ªä¸ªç«¯å£ï¼Œå®ƒä¼šå¸®ä½ è‡ªåŠ¨æ‰“å¼€è¿™ä¸ªç«¯å£ï¼Œä¸ç”¨è‡ªå·±æ“ä½œé˜²ç«å¢™ã€‚æœ¬åœ°åšå®éªŒçš„æ—¶å€™éœ€è¦æ“ä½œé˜²ç«å¢™ï¼Œéœ€è¦ä»¥ä¸‹å‘½ä»¤:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;firewall-cmd â€”list-port&lt;/span&gt;
&lt;span class="code-line"&gt;firewall-cmd --zone&lt;span class="o"&gt;=&lt;/span&gt;dmz --add-port&lt;span class="o"&gt;=&lt;/span&gt;80/tcp&lt;/span&gt;
&lt;span class="code-line"&gt;firewall-cmd --zone&lt;span class="o"&gt;=&lt;/span&gt;dmz --add-port&lt;span class="o"&gt;=&lt;/span&gt;3306/tcp&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è‹¥è¦æ°¸ä¹…ç”Ÿæ•ˆæ–¹æ³•åœ¨åé¢åŠ ä¸Š&lt;code&gt;--permanent&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯æˆ‘é‡åˆ°çš„ç¬¬ä¸€ä¸ªå‘ï¼Œè£…ä¸Šmysqlï¼Œæ·»åŠ å¥½ç”¨æˆ·å’Œæƒé™åå´ä¸èƒ½ç™»å½•ï¼Œgoogleå‡ºæ¥çš„æ–¹å‘éƒ½æ˜¯è®©æˆ‘å»æ”¹iptablesï¼Œä½†CentOS7ä¸­å°†iptablesæ¢æˆäº†firewallï¼Œæœ‰ç½‘å‹å»ºè®®å¸è½½firewallï¼Œå®‰è£…iptablesï¼Œä½†æˆ‘è§‰å¾—äººå®¶ç”¨äº†firewallæ€»æ˜¯æœ‰ä»–çš„é“ç†çš„ï¼Œäºæ˜¯å†³å®šç”¨firewallã€‚&lt;/p&gt;
&lt;h3 id="mysql"&gt;MySQL&lt;/h3&gt;
&lt;h4 id="_6"&gt;&lt;strong&gt;å®‰è£…&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;å› ä¸ºè§‰å¾—æ•°æ®åº“èƒ½ç”¨å°±è¡Œï¼Œæ²¡å¿…è¦æºç ç¼–è¯‘ï¼Œäºæ˜¯æƒ³ç›´æ¥ç”¨æºé‡Œé¢çš„ï¼Œä½†CentOS7çš„æºä¸­å¹¶æ²¡æœ‰è‡ªå¸¦mysqlï¼Œè€Œæ˜¯MariaDBï¼Œè¿™æ˜¯ç”±ç¤¾åŒºç»´æŠ¤çš„ä¸€ä¸ªMySQLçš„åˆ†æ”¯ï¼Œä½†æ®è¯´å¯åŠ¨åæŸ¥çœ‹è¿›ç¨‹çœ‹åˆ°çš„æ˜¯mariadbä¸æ˜¯mysqlï¼Œæœ‰ç‚¹æ€ªæ€ªçš„ï¼Œäºæ˜¯æˆ‘å»å®˜æ–¹æ‰¾äº†ä¸ªæºï¼Œç„¶åå®‰è£…ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;wget http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;sudo rpm -ivh mysql-community-release-el7-5.noarch.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;sudo yum install mysql-community-server&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨å®‰è£…å®Œæˆåä¼šçœ‹åˆ°replaced mariadbçš„ä¿¡æ¯ï¼Œè¿™ä¸ªæœ‰æ„æ€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆæ¬¡å®‰è£…mysqlï¼Œrootç”¨æˆ·æ²¡æœ‰å¯†ç ï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼Œæœ€å¥½è®¾ç½®ä¸‹å¯†ç &lt;br /&gt;
&lt;code&gt;set password for 'root'@'localhost' =password('password');&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="_7"&gt;&lt;strong&gt;æ–°å»ºç”¨æˆ·&amp;amp;æƒé™ç®¡ç†&lt;/strong&gt;&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;create user &lt;span class="s1"&gt;&amp;#39;username&amp;#39;&lt;/span&gt;@&lt;span class="s1"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; identified by &lt;span class="s1"&gt;&amp;#39;password&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;create user &lt;span class="s1"&gt;&amp;#39;username&amp;#39;&lt;/span&gt;@&lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt; identified by &lt;span class="s1"&gt;&amp;#39;password&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;grant all privileges on database.* to username@&lt;span class="s1"&gt;&amp;#39;%&amp;#39;&lt;/span&gt;identified by &lt;span class="s1"&gt;&amp;#39;password&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;grant all privileges on database.* to username@&lt;span class="s1"&gt;&amp;#39;%&amp;#39;&lt;/span&gt;identified by &lt;span class="s1"&gt;&amp;#39;password&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="_8"&gt;&lt;strong&gt;ä¿®æ”¹ç¼–ç é…ç½®&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;åœ¨&lt;code&gt;/etc/my.cnf&lt;/code&gt;ä¸­åŠ ä¸Šå¦‚ä¸‹é…ç½®:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;[mysql]&lt;/span&gt;
&lt;span class="code-line"&gt;default-character-set =utf8&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™é‡Œçš„å­—ç¬¦ç¼–ç å¿…é¡»å’Œ&lt;code&gt;/usr/share/mysql/charsets/Index.xml&lt;/code&gt;ä¸­ä¸€è‡´ã€‚
åˆ›å»ºæ•°æ®åº“çš„æ—¶å€™ä¹Ÿéœ€è¦åŠ ä¸Šå­—ç¬¦ç¼–ç çš„é€‰é¡¹: &lt;code&gt;create database xxx default character set utf8;&lt;/code&gt;
å‚è€ƒ: &lt;a href="http://www.cnblogs.com/starof/p/4680083.html"&gt;centos7 mysqlæ•°æ®åº“å®‰è£…å’Œé…ç½®&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="_9"&gt;è™šæ‹Ÿç¯å¢ƒ&lt;/h3&gt;
&lt;h4 id="_10"&gt;å®‰è£…æ­¥éª¤:&lt;/h4&gt;
&lt;h5 id="virtualenvvirtualenvwrapperpip"&gt;å®‰è£…virtualenvå’Œvirtualenvwrapper(æºç æˆ–è€…pip)&lt;/h5&gt;
&lt;h5 id="_11"&gt;åˆ›å»ºè™šæ‹Ÿç¯å¢ƒç›®å½•&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;mkdir $HOME/.virtualenvs&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="bashrc"&gt;å°†é…ç½®åŠ å…¥~/.bashrc&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;WORKON_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;$HOME/.virtualenvs&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;source&lt;/span&gt; /usr/local/bin/virtualenvwrapper.sh&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;source&lt;/span&gt; ~/.bashrc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5 id="_12"&gt;æµ‹è¯•&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;mkvirtualenv bookbbs&lt;/code&gt;ï¼Œæ²¡é—®é¢˜å°±ok&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‚è€ƒ:&lt;a href="http://liuzhijun.iteye.com/blog/1872241"&gt;Python è™šæ‹Ÿç¯å¢ƒ:Virtualenv&lt;/a&gt;
   æ­¤æ—¶å°±å¯å…ˆåœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…å¥½æ‰€éœ€çš„ä¾èµ–ï¼Œç„¶åæŠŠé¡¹ç›®ç”¨sudo python manage.py runserver 0.0.0.0:80çš„å½¢å¼è·‘èµ·æ¥äº†ï¼Œæˆ‘åœ¨åšåˆ°è¿™ä¸€æ­¥çš„æ—¶å€™æ˜¯å…ˆæŠŠé¡¹ç›®è·‘èµ·æ¥çš„ï¼Œå› ä¸ºæ²¡åœ¨CentOS7ä¸Šç©è¿‡ï¼Œæ€•è·‘ä¸èµ·æ¥ï¼Œæ‰€ä»¥æƒ³å…ˆåœ¨è¿™ä¸€æ­¥çœ‹çœ‹è·‘èµ·æ¥çš„æ•ˆæœå¦‚ä½•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="uwsgi"&gt;uwsgi&lt;/h3&gt;
&lt;p&gt;å› ä¸ºæ˜¯æ‰€æœ‰é¡¹ç›®éƒ½è¦ç”¨çš„ï¼Œæ‰€ä»¥ä¸è¯¥æ”¾åœ¨æŸä¸ªè™šæ‹Ÿç¯å¢ƒä¸­ï¼Œåº”è¯¥åœ¨è™šæ‹Ÿç¯å¢ƒå¤–å®‰è£…ï¼Œå¦‚æœä¸æ˜¯rootåˆ™éœ€è¦sudoçš„æƒé™ã€‚ç„¶åéœ€è¦æ‰¾ä¸€ä¸ªuwsgiçš„é…ç½®æ–‡ä»¶ï¼Œä»¥åŠå¯åŠ¨è„šæœ¬ï¼Œå¯ä»¥ä¸ç”¨å¯åŠ¨è„šæœ¬ï¼Œè‡ªå·±å°†å¯åŠ¨å‘½ä»¤åŠ åˆ°å¼€æœºå¯åŠ¨çš„è„šæœ¬ä¸­ï¼Œä½†è¿˜æ˜¯è§‰å¾—å¯åŠ¨è„šæœ¬çš„æ–¹å¼æ–¹ä¾¿ç®¡ç†äº›ã€‚&lt;/p&gt;
&lt;h4 id="pip"&gt;å®‰è£…: æ— è®ºæºç è¿˜æ˜¯pipéƒ½å¾ˆé¡ºåˆ©ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„&lt;/h4&gt;
&lt;h4 id="_13"&gt;å•ç‹¬æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ&lt;/h4&gt;
&lt;p&gt;æ–°å»ºtest.pyæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;application&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;200 OK&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;text/html&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç„¶ååœ¨ç»ˆç«¯è¿è¡Œ: &lt;code&gt;uwsgi --http :8001 --wsgi-file test.py&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æµè§ˆå™¨å†…è¾“å…¥:&lt;code&gt;http://127.0.0.1:8001&lt;/code&gt;(è§†æƒ…å†µæ›´æ”¹ip)ï¼Œçœ‹æ˜¯å¦æœ‰&lt;code&gt;â€œHello Worldâ€&lt;/code&gt;è¾“å‡ºï¼Œè‹¥æ²¡æœ‰è¾“å‡ºï¼Œæ£€æŸ¥å®‰è£…è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;h4 id="_14"&gt;é¡¹ç›®é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;[uwsgi]&lt;/span&gt;
&lt;span class="code-line"&gt;socket = /path/to/socket&lt;/span&gt;
&lt;span class="code-line"&gt;#socket = 127.0.0.1:8989&lt;/span&gt;
&lt;span class="code-line"&gt;#plugin = python&lt;/span&gt;
&lt;span class="code-line"&gt;wsgi-file = /path/to/project/wsgi.py&lt;/span&gt;
&lt;span class="code-line"&gt;processes = 2&lt;/span&gt;
&lt;span class="code-line"&gt;master = true&lt;/span&gt;
&lt;span class="code-line"&gt;max-requests = 5000&lt;/span&gt;
&lt;span class="code-line"&gt;daemonize = /path/to/log&lt;/span&gt;
&lt;span class="code-line"&gt;logfile-chmod = 644&lt;/span&gt;
&lt;span class="code-line"&gt;pidfile = /path/to/pid&lt;/span&gt;
&lt;span class="code-line"&gt;limit-as = 1000&lt;/span&gt;
&lt;span class="code-line"&gt;enable-threads = true&lt;/span&gt;
&lt;span class="code-line"&gt;vacuum = true&lt;/span&gt;
&lt;span class="code-line"&gt;log-maxsize = 40960000&lt;/span&gt;
&lt;span class="code-line"&gt;threads = 2&lt;/span&gt;
&lt;span class="code-line"&gt;virtualenv = /path/to/virtualenv&lt;/span&gt;
&lt;span class="code-line"&gt;uid = 1000  # è¿è¡Œçš„ç”¨æˆ·&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="_15"&gt;å¯åŠ¨è„šæœ¬&lt;/h4&gt;
&lt;p&gt;æ²¡åœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸ªæ»¡æ„çš„ï¼Œæ‰€ä»¥æ”¹é€ äº†ä¸‹ï¼Œè¿™ä¸ªè„šæ­¥ç›®å‰åªèƒ½å¯åŠ¨uwsgiè¿›ç¨‹ï¼Œä½†æ˜¯æ²¡æ³•æ€è¿›ç¨‹ã€‚å¯åŠ¨åï¼ŒæŒ‡å®šç›®å½•ä¸‹çš„é¡¹ç›®é…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œä¼šè‡ªåŠ¨é‡å¯ç›¸åº”è¿›ç¨‹(uwsgiæ”¯æŒé€šè¿‡&amp;ndash;emperoråˆ¶å®šé…ç½®æ–‡ä»¶ç›®å½•ï¼Œå¦‚æœé…ç½®æ–‡ä»¶å‘ç”Ÿæ”¹å˜ï¼Œä¼šè‡ªåŠ¨é‡å¯ç›¸åº”è¿›ç¨‹).
ä»¥ä¸‹æ˜¯è„šæœ¬:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# chkconfig:   - 90 15&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# wsgI init Script&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# processname: uwsgi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# description: Used to run python and wsgi web applciations.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# author: Miguel Clara (miguelmclara@gmail.com)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;. /etc/rc.d/init.d/functions&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# vars&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;###########################&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;prog&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/path/to/uwsgi &lt;span class="o"&gt;(&lt;/span&gt;which uwsgi&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;desc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;uWSGI&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;daemoN_OPTS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--emperor /path/to/uwsgi/configs &amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# Change this if needed!&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;lockfile&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/path/to/uwsgi.lock&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;start &lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nb"&gt;echo&lt;/span&gt; -n &lt;span class="s2"&gt;&amp;quot;Starting &lt;/span&gt;&lt;span class="nv"&gt;$DE&lt;/span&gt;&lt;span class="s2"&gt;SC: &amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  daemon $PROG &lt;span class="nv"&gt;$DAE&lt;/span&gt;MON_OPTS&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nv"&gt;retval&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nb"&gt;echo&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="o"&gt;[&lt;/span&gt; $retval -eq &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; touch $lockfile&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;return&lt;/span&gt; $retval&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;stop &lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nb"&gt;echo&lt;/span&gt; -n &lt;span class="s2"&gt;&amp;quot;Stopping &lt;/span&gt;&lt;span class="nv"&gt;$DE&lt;/span&gt;&lt;span class="s2"&gt;SC: &amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  killproc $PROG&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nv"&gt;retval&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nb"&gt;echo&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="o"&gt;[&lt;/span&gt; $retval -eq &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -f $lockfile&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;return&lt;/span&gt; $retval&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;reload &lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Reloading &lt;/span&gt;$&lt;span class="s2"&gt;NAME&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  killproc $PROG -HUP&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nv"&gt;retVAL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nb"&gt;echo&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;restart &lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    stop&lt;/span&gt;
&lt;span class="code-line"&gt;    start&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rh_status &lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  status $PROG&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rh_status_q&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  rh_status &amp;gt;/dev/null 2&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;1&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; in&lt;/span&gt;
&lt;span class="code-line"&gt;  start&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; ! pidof $PROG &amp;gt;/dev/null&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        rh_status_q &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 0&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\n&lt;/span&gt;&lt;span class="nv"&gt;$DE&lt;/span&gt;&lt;span class="s2"&gt;SC is already started...\n&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;fi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt; &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  stop&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; pidof $PROG &amp;gt;/dev/null&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        rh_status_q &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 0&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\n&lt;/span&gt;&lt;span class="nv"&gt;$DE&lt;/span&gt;&lt;span class="s2"&gt;SC can not be stoped because its not running...\n&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;fi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  restart&lt;span class="p"&gt;|&lt;/span&gt;force-reload&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  reload&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    rh_status_q &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 7&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  status&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    rh_status&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  *&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Usage: &lt;/span&gt;&lt;span class="nv"&gt;$0&lt;/span&gt;&lt;span class="s2"&gt; {start|stop|restart|reload|force-reload|status}&amp;quot;&lt;/span&gt; &amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;2&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;exit&lt;/span&gt; 2&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;esac&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;exit&lt;/span&gt; 0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="_16"&gt;å°†è„šæœ¬æ·»åŠ åˆ°ç³»ç»Ÿ&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;cp this_script /etc/init.d/uwsgi&lt;/span&gt;
&lt;span class="code-line"&gt;sudo chkconfig â€”add uswgi&lt;/span&gt;
&lt;span class="code-line"&gt;sudo chkconfig uwsgi on&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="_17"&gt;éªŒè¯&lt;/h4&gt;
&lt;p&gt;é‡å¯æœåŠ¡å™¨ï¼ŒæŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å­˜åœ¨ã€‚é‡å¯ä¸ä»…æ˜¯ä¸ºäº†éªŒè¯æ˜¯å¦å¼€æœºè‡ªå¯åŠ¨ï¼Œå¦‚æœä¸é‡å¯å¯èƒ½ä¼šé‡åˆ°å¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸çŸ¥é“ä»€ä¹ˆä¸œè¥¿å¯åŠ¨äº†è¿›ç¨‹ï¼Œæ€ä¸šæ€ä¸å®Œã€‚&lt;/p&gt;
&lt;h3 id="nginx"&gt;nginx&lt;/h3&gt;
&lt;h4 id="_18"&gt;æºç ç¼–è¯‘&lt;/h4&gt;
&lt;p&gt;ç‰ˆæœ¬: nginx-1.8.0.tar.gz.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/home/henry/softwares/nginx &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    --user&lt;span class="o"&gt;=&lt;/span&gt;henry &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    --group&lt;span class="o"&gt;=&lt;/span&gt;henry &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    --with-pcre&lt;span class="o"&gt;=&lt;/span&gt;/home/henry/packages/pcre-8.37 &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    --with-http_realip_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    --with-http_stub_status_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    --with-http_gzip_static_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    --with-http_stub_status_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    --with-http_ssl_module&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;make&lt;/span&gt;
&lt;span class="code-line"&gt;make install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="_19"&gt;å¯åŠ¨è„šæœ¬&lt;/h4&gt;
&lt;p&gt;init.dçš„è„šæœ¬:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# nginx - this script starts and stops the nginx daemon&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# chkconfig:   - 85 15&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# description:  NGINX is an HTTP(S) server, HTTP(S) reverse \&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#               proxy and IMAP/POP3 proxy server&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# processname: nginx&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# config:      /home/henry/softwares/nginx/conf/nginx.conf&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# config:      /etc/sysconfig/nginx&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# pidfile:     /home/henry/softwares/nginx/logs/nginx.pid&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# Source function library.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;. /etc/rc.d/init.d/functions&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# Source networking configuration.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;. /etc/sysconfig/network&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# Check that networking is up.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;$&lt;span class="s2"&gt;NETWORKING&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;no&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 0&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;nginx&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home/henry/softwares/nginx/sbin/nginx&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;prog&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;basename $nginx&lt;span class="k"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;NGINX_CONF_FILE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home/henry/softwares/nginx/conf/nginx.conf&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt; -f /etc/sysconfig/nginx &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; . /etc/sysconfig/nginx&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;lockfile&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home/henry/softwares/nginx/subsys/nginx.lock&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;make_dirs&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="c1"&gt;# make required directories&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="nv"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;$nginx -V 2&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s2"&gt;&amp;quot;configure arguments:&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sed &lt;span class="s1"&gt;&amp;#39;s/[^*]*--user=\([^ ]*\).*/\1/g&amp;#39;&lt;/span&gt; -&lt;span class="sb"&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;`grep &lt;/span&gt;$&lt;span class="s2"&gt;user /etc/passwd`&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;       useradd -M -s /bin/nologin $user&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="k"&gt;fi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="nv"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;$nginx -V 2&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;configure arguments:&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="k"&gt;for&lt;/span&gt; opt in $options&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;       &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; $opt &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;.*-temp-path&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;           &lt;span class="nv"&gt;value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; $opt &lt;span class="p"&gt;|&lt;/span&gt; cut -d &lt;span class="s2"&gt;&amp;quot;=&amp;quot;&lt;/span&gt; -f 2&lt;span class="sb"&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;           &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; ! -d &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;$&lt;span class="s2"&gt;value&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;               &lt;span class="c1"&gt;# echo &amp;quot;creating&amp;quot; $value&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;               mkdir -p $value &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; chown -R $user $value&lt;/span&gt;
&lt;span class="code-line"&gt;           &lt;span class="k"&gt;fi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;       &lt;span class="k"&gt;fi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="k"&gt;done&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;start&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="o"&gt;[&lt;/span&gt; -x $nginx &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 5&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="o"&gt;[&lt;/span&gt; -f $NGINX_CONF_FILE &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 6&lt;/span&gt;
&lt;span class="code-line"&gt;    make_dirs&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt; -n $&lt;span class="s2"&gt;&amp;quot;Starting &lt;/span&gt;$&lt;span class="s2"&gt;prog: &amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    daemon $nginx -c $NGINX_CONF_FILE&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;retval&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="o"&gt;[&lt;/span&gt; $retval -eq &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; touch $lockfile&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;return&lt;/span&gt; $retval&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;stop&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt; -n $&lt;span class="s2"&gt;&amp;quot;Stopping &lt;/span&gt;$&lt;span class="s2"&gt;prog: &amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    killproc $prog -QUIT&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;retval&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="o"&gt;[&lt;/span&gt; $retval -eq &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -f $lockfile&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;return&lt;/span&gt; $retval&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;restart&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    configtest &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    stop&lt;/span&gt;
&lt;span class="code-line"&gt;    sleep 1&lt;/span&gt;
&lt;span class="code-line"&gt;    start&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;reload&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    configtest &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt; -n $&lt;span class="s2"&gt;&amp;quot;Reloading &lt;/span&gt;$&lt;span class="s2"&gt;prog: &amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    killproc $nginx -HUP&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;RETVAL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;force_reload&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    restart&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;configtest&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  $nginx -t -c $NGINX_CONF_FILE&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rh_status&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    status $prog&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rh_status_q&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    rh_status &amp;gt;/dev/null 2&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;1&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; in&lt;/span&gt;
&lt;span class="code-line"&gt;    start&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        rh_status_q &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 0&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    stop&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        rh_status_q &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 0&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    restart&lt;span class="p"&gt;|&lt;/span&gt;configtest&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    reload&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        rh_status_q &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 7&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    force-reload&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        force_reload&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    status&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        rh_status&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    condrestart&lt;span class="p"&gt;|&lt;/span&gt;try-restart&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        rh_status_q &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; 0&lt;/span&gt;
&lt;span class="code-line"&gt;            &lt;span class="p"&gt;;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    *&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nb"&gt;echo&lt;/span&gt; $&lt;span class="s2"&gt;&amp;quot;Usage: &lt;/span&gt;&lt;span class="nv"&gt;$0&lt;/span&gt;&lt;span class="s2"&gt; {start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest}&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;        &lt;span class="nb"&gt;exit&lt;/span&gt; 2&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;esac&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="_20"&gt;æ·»åŠ è„šæœ¬åˆ°ç³»ç»Ÿ&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;sudo cp this_script /etc/init.d/nginx&lt;/span&gt;
&lt;span class="code-line"&gt;sudo chkconfig â€”add nginx&lt;/span&gt;
&lt;span class="code-line"&gt;sudo chkconfig nginx on&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="_21"&gt;éªŒè¯&lt;/h4&gt;
&lt;p&gt;é‡å¯æœåŠ¡å™¨,è®¿é—®ipï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å‡ºç°nginxæˆåŠŸçš„ç•Œé¢ã€‚&lt;/p&gt;
&lt;h4 id="_22"&gt;ç½‘ç«™é…ç½®&lt;/h4&gt;
&lt;p&gt;é‡‡ç”¨è™šæ‹Ÿä¸»æœºçš„æ–¹å¼ï¼Œåœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ç›®å½•ï¼Œç›®å½•ä¸­ç»™æ¯ä¸ªç½‘ç«™å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶:&lt;/p&gt;
&lt;h5 id="nginxconf"&gt;ä¸»é…ç½®æ–‡ä»¶nginx.conf:&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;user  henry;&lt;/span&gt;
&lt;span class="code-line"&gt;worker_processes  1;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;error_log  logs/error.log;&lt;/span&gt;
&lt;span class="code-line"&gt;#error_log  logs/error.log  notice;&lt;/span&gt;
&lt;span class="code-line"&gt;#error_log  logs/error.log  info;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pid        logs/nginx.pid;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;events {&lt;/span&gt;
&lt;span class="code-line"&gt;    worker_connections  1024;&lt;/span&gt;
&lt;span class="code-line"&gt;}&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;http {&lt;/span&gt;
&lt;span class="code-line"&gt;    include       mime.types;&lt;/span&gt;
&lt;span class="code-line"&gt;    default_type  application/octet-stream;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    #log_format  main  &amp;#39;$remote_addr - $remote_user [$time_local] &amp;quot;$request&amp;quot; &amp;#39;&lt;/span&gt;
&lt;span class="code-line"&gt;    #                  &amp;#39;$status $body_bytes_sent &amp;quot;$http_referer&amp;quot; &amp;#39;&lt;/span&gt;
&lt;span class="code-line"&gt;    #                  &amp;#39;&amp;quot;$http_user_agent&amp;quot; &amp;quot;$http_x_forwarded_for&amp;quot;&amp;#39;;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    #access_log  logs/access.log  main;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    sendfile        on;&lt;/span&gt;
&lt;span class="code-line"&gt;    #tcp_nopush     on;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    #keepalive_timeout  0;&lt;/span&gt;
&lt;span class="code-line"&gt;    keepalive_timeout  65;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    gzip  on;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    include conf.d/*.conf;&lt;/span&gt;
&lt;span class="code-line"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5 id="vhost"&gt;vhost é…ç½®&lt;/h5&gt;
&lt;p&gt;åœ¨è·Ÿnginx.confåŒçº§ç›®å½•ä¸‹&lt;code&gt;mkdir conf.d&lt;/code&gt;,ç”¨äºå­˜æ”¾vhosté…ç½®æ–‡ä»¶
vhostæ–‡ä»¶: ä¾‹å¦‚:bookbbs.conf:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;server {&lt;/span&gt;
&lt;span class="code-line"&gt;   listen 80;&lt;/span&gt;
&lt;span class="code-line"&gt;   server_name  192.168.30.154;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   charset utf-8;&lt;/span&gt;
&lt;span class="code-line"&gt;   access_log  logs/bookbbs_access.log;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   location /static/ {&lt;/span&gt;
&lt;span class="code-line"&gt;      alias /path/to/static/dir;&lt;/span&gt;
&lt;span class="code-line"&gt;   }&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   location /media/ {&lt;/span&gt;
&lt;span class="code-line"&gt;      alias /path/to/media/dir;&lt;/span&gt;
&lt;span class="code-line"&gt;   }&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   location / {&lt;/span&gt;
&lt;span class="code-line"&gt;       uwsgi_pass unix:///home/henry/softwares/nginx/logs/BookBBS.sock;&lt;/span&gt;
&lt;span class="code-line"&gt;       include uwsgi_params;&lt;/span&gt;
&lt;span class="code-line"&gt;       client_max_body_size    10m;&lt;/span&gt;
&lt;span class="code-line"&gt;   }&lt;/span&gt;
&lt;span class="code-line"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¦æ³¨æ„çš„æ˜¯ï¼Œé…ç½®æ–‡ä»¶ä¸­è¯¥åŠ â€/â€œçš„åœ°æ–¹é€šé€šéƒ½å¾—åŠ ä¸Šï¼Œå¦åˆ™ä¼šå¤±è´¥ã€‚
ps: é…ç½®æ–‡ä»¶åœ¨git.oschin.netä¸­èƒ½æ‰¾åˆ°(ç§æœ‰ä»“åº“)&lt;/p&gt;</summary><category term="centos7"></category><category term="nginx"></category><category term="uwsgi"></category><category term="mysql"></category><category term="python"></category></entry></feed>